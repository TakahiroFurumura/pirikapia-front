import{a as y,Q as b,_ as w}from"./interfaces-CEDtc8E9.js";import{Q as x}from"./QSpinnerGears-Cs5XVXYD.js";import{d as q}from"./QBtn-DbeY89k7.js";import{Q as B}from"./QPage-D6OfsW_N.js";import{u as C,a as Q}from"./axios-CzASkJXF.js";import{B as I,r as _,a as N,b as S,C as T,E as p,U as A,D as o,O as t,F as s,N as c,G as u,I as E,J as v,L as k,T as L,S as V,Q as F}from"./index-CSmHNlDl.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-dark-BnAV-e0o.js";import"./use-timeout-D3NUh7MW.js";import"./QCard-DdHPO4_y.js";const G={key:0},P={key:1,class:"text-center"},R={class:"raw"},z={key:0},J={key:2},M={key:0,class:"text-negative text-center"},O={key:1,class:"text-center"},U={key:2,class:"row q-col-gutter-xs"},$=I({__name:"ImageBookmarks",setup(j){const i=_([]),l=_(!0),r=_(null),g=C(),m=A(),h=N(()=>typeof m.query.tag=="string"),f=async()=>{console.debug("url query parameters",m.query),l.value=!0,r.value=null;try{await Q.get("/images/bookmark/").then(a=>{const n=a.data;i.value=n.map(d=>y(d))})}catch(a){console.error("Failed to fetch image data:",a),a instanceof Error?r.value=a:r.value=new Error("An unknown error occurred")}finally{l.value=!1}};return S(()=>{f().catch(a=>console.error(a))}),(a,n)=>{const d=L("router-link");return o(),T(B,{class:"q-pa-sm"},{default:p(()=>[h.value?(o(),t("div",G,[u(b,{color:"primary","text-color":"white"},{default:p(()=>[E(v(k(m).query.tag),1)]),_:1})])):s("",!0),l.value?(o(),t("div",P,[u(x,{size:"50px",color:"primary"}),n[0]||(n[0]=c("p",null,"Loading...",-1))])):s("",!0),c("div",R,[u(d,{to:"/user-login"},{default:p(()=>[k(g).isAuthenticated?s("",!0):(o(),t("div",z," Log in to view your bookmark "))]),_:1})]),k(g).isAuthenticated?(o(),t("div",J,[r.value?(o(),t("div",M,[c("p",null,"failed to load images "+v(r.value.message),1),u(q,{label:"reload",color:"primary",onClick:f})])):s("",!0),!l.value&&!r.value&&i.value.length===0?(o(),t("div",O,n[1]||(n[1]=[c("p",null,"No images found",-1)]))):s("",!0),!l.value&&!r.value&&i.value.length>0?(o(),t("div",U,[(o(!0),t(V,null,F(i.value,e=>(o(),t("div",{key:e.filename,class:"col-xs-12 col-sm-6 col-md-4 col-lg-3"},[u(w,{filename:e.filename,image_id:e.image_id,signed_url:e.signed_url,owner_username:e.owner_username,title:e.title,comment_count:e.comment_count,requires_login:e.requires_login,bookmark:e.bookmark,bookmark_count:e.bookmark_count},null,8,["filename","image_id","signed_url","owner_username","title","comment_count","requires_login","bookmark","bookmark_count"])]))),128))])):s("",!0)])):s("",!0)]),_:1})}}}),re=D($,[["__scopeId","data-v-c1d9f02a"]]);export{re as default};
