import{a as v,Q as k,_ as y}from"./interfaces-BlalyuL6.js";import{Q as h}from"./QSpinnerGears-DOT02gPn.js";import{d as x}from"./QBtn-BPYXyJLE.js";import{Q as w}from"./QPage-Lt5zu90k.js";import{a as b}from"./axios-Bu0mZUBt.js";import{B as q,r as m,a as B,b as Q,C,E as p,U as I,D as a,O as t,F as l,G as i,I as N,J as f,L as E,N as d,S,Q as T}from"./index-Bq2RqHjR.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-dark-UelJJSP1.js";import"./use-timeout-CHBov73Z.js";import"./QCard-A5L0usJa.js";const F={key:0},L={key:1,class:"text-center"},D={key:2,class:"text-negative text-center"},G={key:3,class:"text-center"},P={key:4,class:"row q-col-gutter-xs"},R=q({__name:"ImageBookmarks",setup(z){const c=I(),u=m([]),n=m(!0),r=m(null),g=B(()=>typeof c.query.tag=="string"),_=async()=>{console.debug("url query parameters",c.query),n.value=!0,r.value=null;try{await b.get("/images/bookmark/").then(o=>{const s=o.data;u.value=s.map(e=>v(e))})}catch(o){console.error("Failed to fetch image data:",o),o instanceof Error?r.value=o:r.value=new Error("An unknown error occurred")}finally{n.value=!1}};return Q(()=>{_().catch(o=>console.error(o))}),(o,s)=>(a(),C(w,{class:"q-pa-sm"},{default:p(()=>[g.value?(a(),t("div",F,[i(k,{color:"primary","text-color":"white"},{default:p(()=>[N(f(E(c).query.tag),1)]),_:1})])):l("",!0),n.value?(a(),t("div",L,[i(h,{size:"50px",color:"primary"}),s[0]||(s[0]=d("p",null,"Loading...",-1))])):l("",!0),r.value?(a(),t("div",D,[d("p",null,"failed to load images "+f(r.value.message),1),i(x,{label:"reload",color:"primary",onClick:_})])):l("",!0),!n.value&&!r.value&&u.value.length===0?(a(),t("div",G,s[1]||(s[1]=[d("p",null,"No images found",-1)]))):l("",!0),!n.value&&!r.value&&u.value.length>0?(a(),t("div",P,[(a(!0),t(S,null,T(u.value,e=>(a(),t("div",{key:e.filename,class:"col-xs-12 col-sm-6 col-md-4 col-lg-3"},[i(y,{filename:e.filename,image_id:e.image_id,signed_url:e.signed_url,owner_username:e.owner_username,title:e.title,favorite_count:e.favorite_count,comment_count:e.comment_count,requires_login:e.requires_login,bookmark:e.bookmark},null,8,["filename","image_id","signed_url","owner_username","title","favorite_count","comment_count","requires_login","bookmark"])]))),128))])):l("",!0)]),_:1}))}}),X=V(R,[["__scopeId","data-v-0e1dde4c"]]);export{X as default};
