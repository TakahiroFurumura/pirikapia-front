import{a as y,Q as x,_ as w}from"./interfaces-CXMv1w6p.js";import{Q as b}from"./QSpinnerGears-ILzFuF9m.js";import{Q as q}from"./QBtn-gK5orXIc.js";import{Q as B}from"./QPage-Bu_aQat1.js";import{u as C,a as Q}from"./axios-C3oVRA2L.js";import{B as I,r as _,a as N,x as S,C as T,E as p,T as A,D as o,O as t,F as s,N as c,G as i,I as E,J as v,L as k,S as L,R as V,P as F}from"./index-D76mUvRx.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-router-link-xwQRi8rE.js";import"./render-7tGnpTS9.js";import"./use-dark-CgH0aIgX.js";import"./use-timeout-D5vbh8ad.js";import"./QSeparator-BbTdAR_e.js";import"./QCard-BUPisNPc.js";const R={key:0},D={key:1,class:"text-center"},G={class:"raw"},z={key:0},J={key:2},M={key:0,class:"text-negative text-center"},O={key:1,class:"text-center"},$={key:2,class:"row q-col-gutter-xs"},j=I({__name:"ImageBookmarks",setup(H){const u=_([]),l=_(!0),a=_(null),g=C(),m=A(),h=N(()=>typeof m.query.tag=="string"),f=async()=>{console.debug("url query parameters",m.query),l.value=!0,a.value=null;try{await Q.get("/images/bookmark/").then(r=>{const n=r.data;u.value=n.map(d=>y(d))})}catch(r){console.error("Failed to fetch image data:",r),r instanceof Error?a.value=r:a.value=new Error("An unknown error occurred")}finally{l.value=!1}};return S(()=>{f().catch(r=>console.error(r))}),(r,n)=>{const d=L("router-link");return o(),T(B,{class:"q-pa-sm"},{default:p(()=>[h.value?(o(),t("div",R,[i(x,{color:"primary","text-color":"white"},{default:p(()=>[E(v(k(m).query.tag),1)]),_:1})])):s("",!0),l.value?(o(),t("div",D,[i(b,{size:"50px",color:"primary"}),n[0]||(n[0]=c("p",null,"Loading...",-1))])):s("",!0),c("div",G,[i(d,{to:"/user-login"},{default:p(()=>[k(g).isAuthenticated?s("",!0):(o(),t("div",z," Log in to view your bookmark "))]),_:1})]),k(g).isAuthenticated?(o(),t("div",J,[a.value?(o(),t("div",M,[c("p",null,"failed to load images "+v(a.value.message),1),i(q,{label:"reload",color:"primary",onClick:f})])):s("",!0),!l.value&&!a.value&&u.value.length===0?(o(),t("div",O,n[1]||(n[1]=[c("p",null,"No images found",-1)]))):s("",!0),!l.value&&!a.value&&u.value.length>0?(o(),t("div",$,[(o(!0),t(V,null,F(u.value,e=>(o(),t("div",{key:e.filename,class:"col-xs-12 col-sm-6 col-md-4 col-lg-3"},[i(w,{filename:e.filename,image_id:e.image_id,signed_url:e.signed_url,owner_username:e.owner_username,title:e.title,comment_count:e.comment_count,requires_login:e.requires_login,bookmark:e.bookmark,bookmark_count:e.bookmark_count},null,8,["filename","image_id","signed_url","owner_username","title","comment_count","requires_login","bookmark","bookmark_count"])]))),128))])):s("",!0)])):s("",!0)]),_:1})}}}),le=P(j,[["__scopeId","data-v-c1d9f02a"]]);export{le as default};
