import{Q as g}from"./QImg-QkbEIgag.js";import{Q as h}from"./QList-DNM7iy6C.js";import{Q as _}from"./QCardSection-DqJGdJwo.js";import{Q as v}from"./QCard-Brn6Wusb.js";import{a as Q}from"./axios-D-vi1T0B.js";import{B as w,r as s,b as D,w as x,O as y,G as t,E as r,D as I,N as m,J as u}from"./index-BwcDh69u.js";import"./vm-C0pGLJyt.js";import"./use-timeout-Dw24ybhI.js";import"./use-dark-CxRYRXv7.js";const B={class:"q-pa-md q-gutter-sm"},G=w({__name:"ImageDetailView",props:{imageId:{}},setup(d){const n=d,e=s(null),c=s(!1),o=s(null),f=async()=>{await Q.get(`images/hashid/${n.imageId}/`).then(a=>{e.value=a.data}).catch(a=>{console.log(a)})},i=async()=>{c.value=!0,o.value=null,e.value=null;try{const a=await f();console.log(a)}catch(a){console.error("画像詳細の取得に失敗しました:",a),a instanceof Error?o.value=a:o.value=new Error(String(a))}finally{c.value=!1}};return D(()=>{i().catch(a=>console.error(a))}),x(()=>n.imageId,(a,l)=>{a!==l&&a&&(console.log(`Image ID changed from ${l} to ${a}. Reloading data.`),i().catch(p=>console.error(p)))}),(a,l)=>(I(),y("div",B,[t(v,{flat:""},{default:r(()=>[t(g,{src:e.value?.signed_url,"spinner-color":"white",style:{"max-width":"1024px"}},null,8,["src"]),t(_,{class:"text-caption"},{default:r(()=>[t(h,{dense:""},{default:r(()=>[m("li",null,u(e.value?.filename),1),m("li",null,u(e.value?.created_on),1)]),_:1})]),_:1})]),_:1})]))}});export{G as default};
