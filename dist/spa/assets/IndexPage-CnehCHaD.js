import{a as y,Q as C,_ as x}from"./interfaces-BzCKrqBR.js";import{u as w,e as L,d as k}from"./QBtn-DsJGcRjh.js";import{c as q,h as T,B as b,r as m,a as M,b as N,C as Q,U as S,E as f,D as r,O as l,F as i,G as u,I as B,J as _,L as z,N as p,S as I,Q as P}from"./index-BbEnxdqt.js";import{Q as E}from"./QPage-gFXk-JB9.js";import{a as V}from"./axios-BF2LvLzg.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-dark-Bva1yMBi.js";import"./use-timeout-CfW1dRvD.js";import"./QCard-BRXSi8pu.js";const G='<g transform="translate(-20,-20)"><path d="M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z" fill="currentColor"><animateTransform attributeName="transform" type="rotate" from="90 50 50" to="0 50 50" dur="1s" repeatCount="indefinite"></animateTransform></path></g><g transform="translate(20,20) rotate(15 50 50)"><path d="M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z" fill="currentColor"><animateTransform attributeName="transform" type="rotate" from="0 50 50" to="90 50 50" dur="1s" repeatCount="indefinite"></animateTransform></path></g>',R=q({name:"QSpinnerGears",props:w,setup(d){const{cSize:t,classes:n}=L(d);return()=>T("svg",{class:n.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg",innerHTML:G})}}),A={key:0},D={key:1,class:"text-center"},$={key:2,class:"text-negative text-center"},H={key:3,class:"text-center"},J={key:4,class:"row q-col-gutter-xs"},O=b({__name:"IndexPage",setup(d){const t=S(),n=m([]),c=m(!0),o=m(null),v=M(()=>typeof t.query.tag=="string"),g=async()=>{console.debug("url query parameters",t.query),c.value=!0,o.value=null;try{let a="";t.query.tag?a=`https://api.pirikapia.com/images/search/?tag=${typeof t.query.tag=="string"?t.query.tag:t.query.tag[0]}`:a="https://api.pirikapia.com/images/random-thumbnails/24/",await V.get(a).then(s=>{const e=s.data;n.value=e.map(h=>y(h))})}catch(a){console.error("Failed to fetch image data:",a),a instanceof Error?o.value=a:o.value=new Error("An unknown error occurred")}finally{c.value=!1}};return N(()=>{g().catch(a=>console.error(a))}),(a,s)=>(r(),Q(E,{class:"q-pa-sm"},{default:f(()=>[v.value?(r(),l("div",A,[u(C,{color:"primary","text-color":"white"},{default:f(()=>[B(_(z(t).query.tag),1)]),_:1})])):i("",!0),c.value?(r(),l("div",D,[u(R,{size:"50px",color:"primary"}),s[0]||(s[0]=p("p",null,"Loading...",-1))])):i("",!0),o.value?(r(),l("div",$,[p("p",null,"failed to load images "+_(o.value.message),1),u(k,{label:"reload",color:"primary",onClick:g})])):i("",!0),!c.value&&!o.value&&n.value.length===0?(r(),l("div",H,s[1]||(s[1]=[p("p",null,"No images found",-1)]))):i("",!0),!c.value&&!o.value&&n.value.length>0?(r(),l("div",J,[(r(!0),l(I,null,P(n.value,e=>(r(),l("div",{key:e.filename,class:"col-xs-12 col-sm-6 col-md-4 col-lg-3"},[u(x,{filename:e.filename,image_id:e.image_id,signed_url:e.signed_url,owner_username:e.owner_username,title:e.title,favorite_count:e.favorite_count,comment_count:e.comment_count,requires_login:e.requires_login},null,8,["filename","image_id","signed_url","owner_username","title","favorite_count","comment_count","requires_login"])]))),128))])):i("",!0)]),_:1}))}}),ae=F(O,[["__scopeId","data-v-8c040363"]]);export{ae as default};
