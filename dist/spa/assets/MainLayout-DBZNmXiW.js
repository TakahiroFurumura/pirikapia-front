import{Q as ve}from"./QBtn-DLdoahvf.js";import{c as j,a as f,h as M,g as Se,e as P,r as x,w as k,i as xe,o as re,l as Te,H as $e,b as V,d as H,s as je,f as mt,j as ht,k as me,p as he,n as pt,m as Z,q as Ce,t as Qe,u as pe,v as yt,x as Ke,y as He,z as gt,A as bt,B as Ge,C as R,D,E as _,F as oe,G as S,I as ae,J as U,K as wt,L as O,M as kt,N as ye,O as Oe,P as qt,Q as Ct,R as _t,S as Lt}from"./index-D_uaF-qf.js";import{h as Be,a as St,b as Ae,c as xt,Q as Tt}from"./use-router-link-LO43TVHX.js";import{Q as _e}from"./QItem-mzyAlZar.js";import{Q as Je,a as Bt,b as Et}from"./QLayout-DxYuC8L6.js";import{Q as Le}from"./QItemLabel-B1YW6QFH.js";import{Q as Mt}from"./QList-DJm2mzgi.js";import{c as Vt,u as zt,a as Pt,b as $t}from"./selection-uxlWr46J.js";import{g as Qt,a as Ht,h as Ot}from"./scroll-BdTkkczs.js";import{u as At}from"./use-timeout-C46cPNyy.js";import{u as Dt,a as Ft}from"./use-dark-COWGvXsv.js";import{Q as De}from"./QItemSection-BtcMrz7u.js";import{u as Wt,a as Nt,b as It,c as Xt}from"./axios-DgDyWnCa.js";const Yt=j({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:o}){const n=f(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>M("div",{class:n.value},Be(o.default))}}),Rt=j({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:o}){const n=f(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>M("div",{class:n.value,role:"toolbar"},Be(o.default))}}),Ut=j({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:o,emit:n}){const{proxy:{$q:u}}=Se(),t=xe(Te,P);if(t===P)return console.error("QHeader needs to be child of QLayout"),P;const a=x(parseInt(e.heightHint,10)),l=x(!0),y=f(()=>e.reveal===!0||t.view.value.indexOf("H")!==-1||u.platform.is.ios&&t.isContainer.value===!0),g=f(()=>{if(e.modelValue!==!0)return 0;if(y.value===!0)return l.value===!0?a.value:0;const c=a.value-t.scroll.value.position;return c>0?c:0}),v=f(()=>e.modelValue!==!0||y.value===!0&&l.value!==!0),i=f(()=>e.modelValue===!0&&v.value===!0&&e.reveal===!0),C=f(()=>"q-header q-layout__section--marginal "+(y.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(v.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),s=f(()=>{const c=t.rows.value.top,T={};return c[0]==="l"&&t.left.space===!0&&(T[u.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),c[2]==="r"&&t.right.space===!0&&(T[u.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),T});function d(c,T){t.update("header",c,T)}function h(c,T){c.value!==T&&(c.value=T)}function b({height:c}){h(a,c),d("size",c)}function q(c){i.value===!0&&h(l,!0),n("focusin",c)}k(()=>e.modelValue,c=>{d("space",c),h(l,!0),t.animate()}),k(g,c=>{d("offset",c)}),k(()=>e.reveal,c=>{c===!1&&h(l,e.modelValue)}),k(l,c=>{t.animate(),n("reveal",c)}),k(t.scroll,c=>{e.reveal===!0&&h(l,c.direction==="up"||c.position<=e.revealOffset||c.position-c.inflectionPoint<100)});const w={};return t.instances.header=w,e.modelValue===!0&&d("size",a.value),d("space",e.modelValue),d("offset",g.value),re(()=>{t.instances.header===w&&(t.instances.header=void 0,d("size",0),d("offset",0),d("space",!1))}),()=>{const c=St(o.default,[]);return e.elevated===!0&&c.push(M("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),c.push(M(Je,{debounce:0,onResize:b})),M("header",{class:C.value,style:s.value,onFocusin:q},c)}}});function jt(e,o,n){let u;function t(){u!==void 0&&($e.remove(u),u=void 0)}return re(()=>{e.value===!0&&t()}),{removeFromHistory:t,addToHistory(){u={condition:()=>n.value===!0,handler:o},$e.add(u)}}}let X=0,ge,be,Y,we=!1,Fe,We,Ne,A=null;function Kt(e){Gt(e)&&je(e)}function Gt(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const o=mt(e),n=e.shiftKey&&!e.deltaX,u=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),t=n||u?e.deltaY:e.deltaX;for(let a=0;a<o.length;a++){const l=o[a];if(Ot(l,u))return u?t<0&&l.scrollTop===0?!0:t>0&&l.scrollTop+l.clientHeight===l.scrollHeight:t<0&&l.scrollLeft===0?!0:t>0&&l.scrollLeft+l.clientWidth===l.scrollWidth}return!0}function Ie(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function ee(e){we!==!0&&(we=!0,requestAnimationFrame(()=>{we=!1;const{height:o}=e.target,{clientHeight:n,scrollTop:u}=document.scrollingElement;(Y===void 0||o!==window.innerHeight)&&(Y=n-o,document.scrollingElement.scrollTop=u),u>Y&&(document.scrollingElement.scrollTop-=Math.ceil((u-Y)/8))}))}function Xe(e){const o=document.body,n=window.visualViewport!==void 0;if(e==="add"){const{overflowY:u,overflowX:t}=window.getComputedStyle(o);ge=Qt(window),be=Ht(window),Fe=o.style.left,We=o.style.top,Ne=window.location.href,o.style.left=`-${ge}px`,o.style.top=`-${be}px`,t!=="hidden"&&(t==="scroll"||o.scrollWidth>window.innerWidth)&&o.classList.add("q-body--force-scrollbar-x"),u!=="hidden"&&(u==="scroll"||o.scrollHeight>window.innerHeight)&&o.classList.add("q-body--force-scrollbar-y"),o.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,V.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",ee,H.passiveCapture),window.visualViewport.addEventListener("scroll",ee,H.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",Ie,H.passiveCapture))}V.is.desktop===!0&&V.is.mac===!0&&window[`${e}EventListener`]("wheel",Kt,H.notPassive),e==="remove"&&(V.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",ee,H.passiveCapture),window.visualViewport.removeEventListener("scroll",ee,H.passiveCapture)):window.removeEventListener("scroll",Ie,H.passiveCapture)),o.classList.remove("q-body--prevent-scroll"),o.classList.remove("q-body--force-scrollbar-x"),o.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,o.style.left=Fe,o.style.top=We,window.location.href===Ne&&window.scrollTo(ge,be),Y=void 0)}function Jt(e){let o="add";if(e===!0){if(X++,A!==null){clearTimeout(A),A=null;return}if(X>1)return}else{if(X===0||(X--,X>0))return;if(o="remove",V.is.ios===!0&&V.is.nativeMobile===!0){A!==null&&clearTimeout(A),A=setTimeout(()=>{Xe(o),A=null},100);return}}Xe(o)}function Zt(){let e;return{preventBodyScroll(o){o!==e&&(e!==void 0||o===!0)&&(e=o,Jt(o))}}}const Ee={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},eo=Object.keys(Ee);Ee.all=!0;function Ye(e){const o={};for(const n of eo)e[n]===!0&&(o[n]=!0);return Object.keys(o).length===0?Ee:(o.horizontal===!0?o.left=o.right=!0:o.left===!0&&o.right===!0&&(o.horizontal=!0),o.vertical===!0?o.up=o.down=!0:o.up===!0&&o.down===!0&&(o.vertical=!0),o.horizontal===!0&&o.vertical===!0&&(o.all=!0),o)}const to=["INPUT","TEXTAREA"];function Re(e,o){return o.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof o.handler=="function"&&to.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(o.uid)===-1)}function ke(e,o,n){const u=Ce(e);let t,a=u.left-o.event.x,l=u.top-o.event.y,y=Math.abs(a),g=Math.abs(l);const v=o.direction;v.horizontal===!0&&v.vertical!==!0?t=a<0?"left":"right":v.horizontal!==!0&&v.vertical===!0?t=l<0?"up":"down":v.up===!0&&l<0?(t="up",y>g&&(v.left===!0&&a<0?t="left":v.right===!0&&a>0&&(t="right"))):v.down===!0&&l>0?(t="down",y>g&&(v.left===!0&&a<0?t="left":v.right===!0&&a>0&&(t="right"))):v.left===!0&&a<0?(t="left",y<g&&(v.up===!0&&l<0?t="up":v.down===!0&&l>0&&(t="down"))):v.right===!0&&a>0&&(t="right",y<g&&(v.up===!0&&l<0?t="up":v.down===!0&&l>0&&(t="down")));let i=!1;if(t===void 0&&n===!1){if(o.event.isFirst===!0||o.event.lastDir===void 0)return{};t=o.event.lastDir,i=!0,t==="left"||t==="right"?(u.left-=a,y=0,a=0):(u.top-=l,g=0,l=0)}return{synthetic:i,payload:{evt:e,touch:o.event.mouse!==!0,mouse:o.event.mouse===!0,position:u,direction:t,isFirst:o.event.isFirst,isFinal:n===!0,duration:Date.now()-o.event.time,distance:{x:y,y:g},offset:{x:a,y:l},delta:{x:u.left-o.event.lastX,y:u.top-o.event.lastY}}}}let oo=0;const qe=ht({name:"touch-pan",beforeMount(e,{value:o,modifiers:n}){if(n.mouse!==!0&&V.has.touch!==!0)return;function u(a,l){n.mouse===!0&&l===!0?je(a):(n.stop===!0&&pe(a),n.prevent===!0&&Qe(a))}const t={uid:"qvtp_"+oo++,handler:o,modifiers:n,direction:Ye(n),noop:pt,mouseStart(a){Re(a,t)&&yt(a)&&(Z(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(a,!0))},touchStart(a){if(Re(a,t)){const l=a.target;Z(t,"temp",[[l,"touchmove","move","notPassiveCapture"],[l,"touchcancel","end","passiveCapture"],[l,"touchend","end","passiveCapture"]]),t.start(a)}},start(a,l){if(V.is.firefox===!0&&he(e,!0),t.lastEvt=a,l===!0||n.stop===!0){if(t.direction.all!==!0&&(l!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const v=a.type.indexOf("mouse")!==-1?new MouseEvent(a.type,a):new TouchEvent(a.type,a);a.defaultPrevented===!0&&Qe(v),a.cancelBubble===!0&&pe(v),Object.assign(v,{qKeyEvent:a.qKeyEvent,qClickOutside:a.qClickOutside,qAnchorHandled:a.qAnchorHandled,qClonedBy:a.qClonedBy===void 0?[t.uid]:a.qClonedBy.concat(t.uid)}),t.initialEvent={target:a.target,event:v}}pe(a)}const{left:y,top:g}=Ce(a);t.event={x:y,y:g,time:Date.now(),mouse:l===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:y,lastY:g}},move(a){if(t.event===void 0)return;const l=Ce(a),y=l.left-t.event.x,g=l.top-t.event.y;if(y===0&&g===0)return;t.lastEvt=a;const v=t.event.mouse===!0,i=()=>{u(a,v);let d;n.preserveCursor!==!0&&n.preservecursor!==!0&&(d=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),v===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Vt(),t.styleCleanup=h=>{if(t.styleCleanup=void 0,d!==void 0&&(document.documentElement.style.cursor=d),document.body.classList.remove("non-selectable"),v===!0){const b=()=>{document.body.classList.remove("no-pointer-events--children")};h!==void 0?setTimeout(()=>{b(),h()},50):b()}else h!==void 0&&h()}};if(t.event.detected===!0){t.event.isFirst!==!0&&u(a,t.event.mouse);const{payload:d,synthetic:h}=ke(a,t,!1);d!==void 0&&(t.handler(d)===!1?t.end(a):(t.styleCleanup===void 0&&t.event.isFirst===!0&&i(),t.event.lastX=d.position.left,t.event.lastY=d.position.top,t.event.lastDir=h===!0?void 0:d.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||v===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){i(),t.event.detected=!0,t.move(a);return}const C=Math.abs(y),s=Math.abs(g);C!==s&&(t.direction.horizontal===!0&&C>s||t.direction.vertical===!0&&C<s||t.direction.up===!0&&C<s&&g<0||t.direction.down===!0&&C<s&&g>0||t.direction.left===!0&&C>s&&y<0||t.direction.right===!0&&C>s&&y>0?(t.event.detected=!0,t.move(a)):t.end(a,!0))},end(a,l){if(t.event!==void 0){if(me(t,"temp"),V.is.firefox===!0&&he(e,!1),l===!0)t.styleCleanup?.(),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(ke(a===void 0?t.lastEvt:a,t).payload);const{payload:y}=ke(a===void 0?t.lastEvt:a,t,!0),g=()=>{t.handler(y)};t.styleCleanup!==void 0?t.styleCleanup(g):g()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(e.__qtouchpan=t,n.mouse===!0){const a=n.mouseCapture===!0||n.mousecapture===!0?"Capture":"";Z(t,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}V.has.touch===!0&&Z(t,"main",[[e,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,o){const n=e.__qtouchpan;n!==void 0&&(o.oldValue!==o.value&&(typeof value!="function"&&n.end(),n.handler=o.value),n.direction=Ye(o.modifiers))},beforeUnmount(e){const o=e.__qtouchpan;o!==void 0&&(o.event!==void 0&&o.end(),me(o,"main"),me(o,"temp"),V.is.firefox===!0&&he(e,!1),o.styleCleanup?.(),delete e.__qtouchpan)}});function te(e,o,n){return n<=o?o:Math.min(n,Math.max(o,e))}const Ue=150,ao=j({name:"QDrawer",inheritAttrs:!1,props:{...Pt,...Dt,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...zt,"onLayout","miniState"],setup(e,{slots:o,emit:n,attrs:u}){const t=Se(),{proxy:{$q:a}}=t,l=Ft(e,a),{preventBodyScroll:y}=Zt(),{registerTimeout:g,removeTimeout:v}=At(),i=xe(Te,P);if(i===P)return console.error("QDrawer needs to be child of QLayout"),P;let C,s=null,d;const h=x(e.behavior==="mobile"||e.behavior!=="desktop"&&i.totalWidth.value<=e.breakpoint),b=f(()=>e.mini===!0&&h.value!==!0),q=f(()=>b.value===!0?e.miniWidth:e.width),w=x(e.showIfAbove===!0&&h.value===!1?!0:e.modelValue===!0),c=f(()=>e.persistent!==!0&&(h.value===!0||et.value===!0));function T(r,p){if(ne(),r!==!1&&i.animate(),E(0),h.value===!0){const B=i.instances[G.value];B?.belowBreakpoint===!0&&B.hide(!1),$(1),i.isContainer.value!==!0&&y(!0)}else $(0),r!==!1&&de(!1);g(()=>{r!==!1&&de(!0),p!==!0&&n("show",r)},Ue)}function N(r,p){Ze(),r!==!1&&i.animate(),$(0),E(F.value*q.value),ce(),p!==!0?g(()=>{n("hide",r)},Ue):v()}const{show:m,hide:L}=$t({showing:w,hideOnRouteChange:c,handleShow:T,handleHide:N}),{addToHistory:ne,removeFromHistory:Ze}=jt(w,L,c),K={belowBreakpoint:h,hide:L},z=f(()=>e.side==="right"),F=f(()=>(a.lang.rtl===!0?-1:1)*(z.value===!0?1:-1)),Me=x(0),W=x(!1),le=x(!1),Ve=x(q.value*F.value),G=f(()=>z.value===!0?"left":"right"),ie=f(()=>w.value===!0&&h.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:q.value:0),ue=f(()=>e.overlay===!0||e.miniToOverlay===!0||i.view.value.indexOf(z.value?"R":"L")!==-1||a.platform.is.ios===!0&&i.isContainer.value===!0),I=f(()=>e.overlay===!1&&w.value===!0&&h.value===!1),et=f(()=>e.overlay===!0&&w.value===!0&&h.value===!1),tt=f(()=>"fullscreen q-drawer__backdrop"+(w.value===!1&&W.value===!1?" hidden":"")),ot=f(()=>({backgroundColor:`rgba(0,0,0,${Me.value*.4})`})),ze=f(()=>z.value===!0?i.rows.value.top[2]==="r":i.rows.value.top[0]==="l"),at=f(()=>z.value===!0?i.rows.value.bottom[2]==="r":i.rows.value.bottom[0]==="l"),rt=f(()=>{const r={};return i.header.space===!0&&ze.value===!1&&(ue.value===!0?r.top=`${i.header.offset}px`:i.header.space===!0&&(r.top=`${i.header.size}px`)),i.footer.space===!0&&at.value===!1&&(ue.value===!0?r.bottom=`${i.footer.offset}px`:i.footer.space===!0&&(r.bottom=`${i.footer.size}px`)),r}),nt=f(()=>{const r={width:`${q.value}px`,transform:`translateX(${Ve.value}px)`};return h.value===!0?r:Object.assign(r,rt.value)}),lt=f(()=>"q-drawer__content fit "+(i.isContainer.value!==!0?"scroll":"overflow-auto")),it=f(()=>`q-drawer q-drawer--${e.side}`+(le.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(l.value===!0?" q-drawer--dark q-dark":"")+(W.value===!0?" no-transition":w.value===!0?"":" q-layout--prevent-focus")+(h.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${b.value===!0?"mini":"standard"}`+(ue.value===!0||I.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(ze.value===!0?" q-drawer--top-padding":""))),ut=f(()=>{const r=a.lang.rtl===!0?e.side:G.value;return[[qe,ft,void 0,{[r]:!0,mouse:!0}]]}),st=f(()=>{const r=a.lang.rtl===!0?G.value:e.side;return[[qe,Pe,void 0,{[r]:!0,mouse:!0}]]}),dt=f(()=>{const r=a.lang.rtl===!0?G.value:e.side;return[[qe,Pe,void 0,{[r]:!0,mouse:!0,mouseAllDir:!0}]]});function se(){vt(h,e.behavior==="mobile"||e.behavior!=="desktop"&&i.totalWidth.value<=e.breakpoint)}k(h,r=>{r===!0?(C=w.value,w.value===!0&&L(!1)):e.overlay===!1&&e.behavior!=="mobile"&&C!==!1&&(w.value===!0?(E(0),$(0),ce()):m(!1))}),k(()=>e.side,(r,p)=>{i.instances[p]===K&&(i.instances[p]=void 0,i[p].space=!1,i[p].offset=0),i.instances[r]=K,i[r].size=q.value,i[r].space=I.value,i[r].offset=ie.value}),k(i.totalWidth,()=>{(i.isContainer.value===!0||document.qScrollPrevented!==!0)&&se()}),k(()=>e.behavior+e.breakpoint,se),k(i.isContainer,r=>{w.value===!0&&y(r!==!0),r===!0&&se()}),k(i.scrollbarWidth,()=>{E(w.value===!0?0:void 0)}),k(ie,r=>{Q("offset",r)}),k(I,r=>{n("onLayout",r),Q("space",r)}),k(z,()=>{E()}),k(q,r=>{E(),fe(e.miniToOverlay,r)}),k(()=>e.miniToOverlay,r=>{fe(r,q.value)}),k(()=>a.lang.rtl,()=>{E()}),k(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(ct(),i.animate())}),k(b,r=>{n("miniState",r)});function E(r){r===void 0?He(()=>{r=w.value===!0?0:q.value,E(F.value*r)}):(i.isContainer.value===!0&&z.value===!0&&(h.value===!0||Math.abs(r)===q.value)&&(r+=F.value*i.scrollbarWidth.value),Ve.value=r)}function $(r){Me.value=r}function de(r){const p=r===!0?"remove":i.isContainer.value!==!0?"add":"";p!==""&&document.body.classList[p]("q-body--drawer-toggle")}function ct(){s!==null&&clearTimeout(s),t.proxy&&t.proxy.$el&&t.proxy.$el.classList.add("q-drawer--mini-animate"),le.value=!0,s=setTimeout(()=>{s=null,le.value=!1,t?.proxy?.$el?.classList.remove("q-drawer--mini-animate")},150)}function ft(r){if(w.value!==!1)return;const p=q.value,B=te(r.distance.x,0,p);if(r.isFinal===!0){B>=Math.min(75,p)===!0?m():(i.animate(),$(0),E(F.value*p)),W.value=!1;return}E((a.lang.rtl===!0?z.value!==!0:z.value)?Math.max(p-B,0):Math.min(0,B-p)),$(te(B/p,0,1)),r.isFirst===!0&&(W.value=!0)}function Pe(r){if(w.value!==!0)return;const p=q.value,B=r.direction===e.side,J=(a.lang.rtl===!0?B!==!0:B)?te(r.distance.x,0,p):0;if(r.isFinal===!0){Math.abs(J)<Math.min(75,p)===!0?(i.animate(),$(1),E(0)):L(),W.value=!1;return}E(F.value*J),$(te(1-J/p,0,1)),r.isFirst===!0&&(W.value=!0)}function ce(){y(!1),de(!0)}function Q(r,p){i.update(e.side,r,p)}function vt(r,p){r.value!==p&&(r.value=p)}function fe(r,p){Q("size",r===!0?e.miniWidth:p)}return i.instances[e.side]=K,fe(e.miniToOverlay,q.value),Q("space",I.value),Q("offset",ie.value),e.showIfAbove===!0&&e.modelValue!==!0&&w.value===!0&&e["onUpdate:modelValue"]!==void 0&&n("update:modelValue",!0),Ke(()=>{n("onLayout",I.value),n("miniState",b.value),C=e.showIfAbove===!0;const r=()=>{(w.value===!0?T:N)(!1,!0)};if(i.totalWidth.value!==0){He(r);return}d=k(i.totalWidth,()=>{d(),d=void 0,w.value===!1&&e.showIfAbove===!0&&h.value===!1?m(!1):r()})}),re(()=>{d?.(),s!==null&&(clearTimeout(s),s=null),w.value===!0&&ce(),i.instances[e.side]===K&&(i.instances[e.side]=void 0,Q("size",0),Q("offset",0),Q("space",!1))}),()=>{const r=[];h.value===!0&&(e.noSwipeOpen===!1&&r.push(gt(M("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),ut.value)),r.push(Ae("div",{ref:"backdrop",class:tt.value,style:ot.value,"aria-hidden":"true",onClick:L},void 0,"backdrop",e.noSwipeBackdrop!==!0&&w.value===!0,()=>dt.value)));const p=b.value===!0&&o.mini!==void 0,B=[M("div",{...u,key:""+p,class:[lt.value,u.class]},p===!0?o.mini():Be(o.default))];return e.elevated===!0&&w.value===!0&&B.push(M("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),r.push(Ae("aside",{ref:"content",class:it.value,style:nt.value},B,"contentclose",e.noSwipeClose!==!0&&h.value===!0,()=>st.value)),M("div",{class:"q-drawer-container"},r)}}}),ro=j({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:o,emit:n}){const{proxy:{$q:u}}=Se(),t=xe(Te,P);if(t===P)return console.error("QFooter needs to be child of QLayout"),P;const a=x(parseInt(e.heightHint,10)),l=x(!0),y=x(bt.value===!0||t.isContainer.value===!0?0:window.innerHeight),g=f(()=>e.reveal===!0||t.view.value.indexOf("F")!==-1||u.platform.is.ios&&t.isContainer.value===!0),v=f(()=>t.isContainer.value===!0?t.containerHeight.value:y.value),i=f(()=>{if(e.modelValue!==!0)return 0;if(g.value===!0)return l.value===!0?a.value:0;const m=t.scroll.value.position+v.value+a.value-t.height.value;return m>0?m:0}),C=f(()=>e.modelValue!==!0||g.value===!0&&l.value!==!0),s=f(()=>e.modelValue===!0&&C.value===!0&&e.reveal===!0),d=f(()=>"q-footer q-layout__section--marginal "+(g.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(C.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(g.value!==!0?" hidden":""):"")),h=f(()=>{const m=t.rows.value.bottom,L={};return m[0]==="l"&&t.left.space===!0&&(L[u.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),m[2]==="r"&&t.right.space===!0&&(L[u.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),L});function b(m,L){t.update("footer",m,L)}function q(m,L){m.value!==L&&(m.value=L)}function w({height:m}){q(a,m),b("size",m)}function c(){if(e.reveal!==!0)return;const{direction:m,position:L,inflectionPoint:ne}=t.scroll.value;q(l,m==="up"||L-ne<100||t.height.value-v.value-L-a.value<300)}function T(m){s.value===!0&&q(l,!0),n("focusin",m)}k(()=>e.modelValue,m=>{b("space",m),q(l,!0),t.animate()}),k(i,m=>{b("offset",m)}),k(()=>e.reveal,m=>{m===!1&&q(l,e.modelValue)}),k(l,m=>{t.animate(),n("reveal",m)}),k([a,t.scroll,t.height],c),k(()=>u.screen.height,m=>{t.isContainer.value!==!0&&q(y,m)});const N={};return t.instances.footer=N,e.modelValue===!0&&b("size",a.value),b("space",e.modelValue),b("offset",i.value),re(()=>{t.instances.footer===N&&(t.instances.footer=void 0,b("size",0),b("offset",0),b("space",!1))}),()=>{const m=xt(o.default,[M(Je,{debounce:0,onResize:w})]);return e.elevated===!0&&m.push(M("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),M("footer",{class:d.value,style:h.value,onFocusin:T},m)}}}),no=Ge({__name:"EssentialLink",props:{title:{},caption:{},link:{},icon:{}},setup(e){const o=e,n=f(()=>typeof o.link=="string"&&o.link.startsWith("http"));return(u,t)=>(D(),R(_e,{clickable:"",to:n.value?void 0:u.link,target:n.value?"_blank":void 0,tag:"a"},{default:_(()=>[u.icon?(D(),R(De,{key:0,avatar:""},{default:_(()=>[S(Tt,{name:u.icon},null,8,["name"])]),_:1})):oe("",!0),S(De,null,{default:_(()=>[S(Le,null,{default:_(()=>[ae(U(u.title),1)]),_:1}),S(Le,{caption:""},{default:_(()=>[ae(U(u.caption),1)]),_:1})]),_:1})]),_:1},8,["to","target"]))}}),lo=wt("debugStore",{state:()=>({debugMode:!0}),getters:{isDebugMode:e=>e.debugMode},actions:{}}),io={class:"q-ml-sm"},uo={key:0,class:"q-pa-xs"},_o=Ge({__name:"MainLayout",setup(e){const o=Wt(),n=kt(),u=lo().isDebugMode,t=[{title:"Images & Movies",caption:"",icon:"collections",link:{name:"home"}},{title:"Novels & Articles",caption:"",icon:"library_books",link:{name:"novel-home"}},{title:"Your bookmarks",caption:"",icon:"bookmark",link:{name:"image-bookmarks"}},{title:"Upload and manage",caption:"upload or manage your images, videos and texts",icon:"upload",link:{name:"home"}},{title:"Generate images",caption:"(to be developed) create novels and articles",icon:"edit",link:{name:"home"}},{title:"Generate texts",caption:"(to be developed) create images",icon:"edit",link:{name:"home"}},{title:"Your profile",caption:"",icon:"account_circle",link:{name:"user-profile"}},{title:"About",caption:"pirikapia, Utopia of beauties",icon:"info",link:""}],a=x(!1),l=x(""),y=x(null),g=x(!1);function v(){a.value=!a.value}async function i(){g.value=!0,y.value=null;try{const s=await Nt.get("/");typeof s.data=="string"?l.value=s.data:s.data&&typeof s.data.message=="string"?l.value=s.data.message:(console.warn("Unexpected response format:",s.data),l.value="Welcome message received, but format is unexpected.")}catch(s){console.error("Failed to fetch welcome message:",s),It.isAxiosError(s)&&(s.response?y.value=`Server Error: ${s.response.status} - ${s.response.data?.message||s.response.data||s.message}`:s.request?y.value="No response from server. Please check your network connection.":y.value=`Error: ${s.message}`),l.value=""}finally{g.value=!1}}function C(){n.push("/").then(()=>{location.reload()}).catch(s=>{console.log(s)})}return Ke(()=>{i().then().catch(s=>{console.log(s)}).finally(()=>{})}),(s,d)=>{const h=Lt("router-view");return D(),R(Bt,{view:"lHh Lpr lFf"},{default:_(()=>[S(Ut,{elevated:""},{default:_(()=>[S(Rt,null,{default:_(()=>[S(ve,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:v}),S(Yt,{style:{cursor:"pointer"},onClick:C},{default:_(()=>d[3]||(d[3]=[ae(" Pirikapia ")])),_:1}),O(o).isAuthenticated?(D(),R(_e,{key:0,clickable:"",onClick:d[0]||(d[0]=b=>O(n).push("/user-profile"))},{default:_(()=>[S(ve,{flat:"",round:"",dense:"",icon:"account_circle"},{default:_(()=>[ye("span",io,U(O(o).user.username),1)]),_:1})]),_:1})):oe("",!0),O(o).isAuthenticated?oe("",!0):(D(),R(_e,{key:1,clickable:"",onClick:d[1]||(d[1]=b=>O(n).push("/user-login"))},{default:_(()=>[S(ve,{flat:"",round:"",dense:"",icon:"login"},{default:_(()=>d[4]||(d[4]=[ye("span",{class:"q-ml-sm"},"Login",-1)])),_:1})]),_:1}))]),_:1})]),_:1}),S(ao,{modelValue:a.value,"onUpdate:modelValue":d[2]||(d[2]=b=>a.value=b),"show-if-above":"",bordered:""},{default:_(()=>[S(Mt,null,{default:_(()=>[S(Le,{header:""},{default:_(()=>d[5]||(d[5]=[ae(" Menus ")])),_:1}),(D(),Oe(_t,null,qt(t,b=>S(no,Ct({key:b.title,ref_for:!0},b),null,16)),64))]),_:1})]),_:1},8,["modelValue"]),S(Et,null,{default:_(()=>[S(h)]),_:1}),S(ro,{class:"q-pa-xs"},{default:_(()=>[ye("span",null,U(l.value),1),O(u)?(D(),Oe("span",uo,"(debug mode) "+U(O(Xt)),1)):oe("",!0)]),_:1})]),_:1})}}});export{_o as default};
