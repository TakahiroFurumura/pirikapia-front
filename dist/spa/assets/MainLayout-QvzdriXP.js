import{c as $l,Q as mt}from"./QBtn-B6SnliEp.js";import{c as qe,a as d,h as _,o as Fe,H as Wt,b as he,l as ze,s as xe,g as Rl,r as M,d as Qe,w as O,T as jt,e as Ql,f as Nl,i as Wl,j as jl,n as be,k as dl,m as Kl,p as Ul,q as Xe,t as We,u as we,v as Xl,x as Yl,y as ke,z as _t,A as Tt,B as Gl,C as ht,D as gt,E as lt,F as xt,G as Jl,I as fl,J as Zl,K as eo,L as vl,M as Ye,N as Me,O as U,P as ut,Q as K,R as Ge,S as Je,U as Ae,V as to,W as yt,X as Kt,Y as lo,Z as oo,_ as no,$ as ao}from"./index-BlcmDWqL.js";import{h as ct,Q as Bt,a as ml,b as uo,c as Ut}from"./use-router-link-CE1KlCA8.js";import{Q as it}from"./QItem-Ci2XlYsh.js";import{u as hl,a as io,b as gl,c as ro,d as so,e as co,f as yl,r as Xt,g as Yt,h as fo,i as vo,Q as mo,j as ho,k as go}from"./QMenu-Bq9AQ3lp.js";import{u as Sl,a as Et,b as bl,c as pl,d as yo,f as Gt,e as So}from"./use-key-composition-BlgvFcCP.js";import{Q as bo}from"./QChip-BGKqGv1R.js";import{Q as qt}from"./QItemSection-gfSU1mKA.js";import{Q as rt}from"./QItemLabel-BSQ0A4tm.js";import{u as wl}from"./use-timeout-P8I7MvkH.js";import{g as po,a as wo,h as ko}from"./scroll-D4vw9ajF.js";import{u as Co,a as Vo}from"./private.use-form-BghIlukX.js";import{n as Jt,b as ot}from"./format-BvkBI9bc.js";import{Q as kl,a as xo,b as qo}from"./QLayout-Dg36o7ee.js";import{Q as _o}from"./QList-FXAfkUWS.js";import{u as To,a as Bo}from"./use-dark-BwWEZAs9.js";import{u as Eo,a as zo,b as Ao,c as Lo}from"./auth-AWVyl-b9.js";import{u as Mo}from"./uiconfig-cNolOjS7.js";const Fo=qe({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:n}){const a=d(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>_("div",{class:a.value},ct(n.default))}}),Oo=qe({name:"QField",inheritAttrs:!1,props:{...Et,tag:{type:String,default:"label"}},emits:Sl,setup(){return bl(pl({tagProp:!0}))}});function Cl(e,n,a){let s;function l(){s!==void 0&&(Wt.remove(s),s=void 0)}return Fe(()=>{e.value===!0&&l()}),{removeFromHistory:l,addToHistory(){s={condition:()=>a.value===!0,handler:n},Wt.add(s)}}}let je=0,St,bt,Ue,pt=!1,Zt,el,tl,Le=null;function Ho(e){Io(e)&&xe(e)}function Io(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const n=Rl(e),a=e.shiftKey&&!e.deltaX,s=!a&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),l=a||s?e.deltaY:e.deltaX;for(let o=0;o<n.length;o++){const c=n[o];if(ko(c,s))return s?l<0&&c.scrollTop===0?!0:l>0&&c.scrollTop+c.clientHeight===c.scrollHeight:l<0&&c.scrollLeft===0?!0:l>0&&c.scrollLeft+c.clientWidth===c.scrollWidth}return!0}function ll(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function nt(e){pt!==!0&&(pt=!0,requestAnimationFrame(()=>{pt=!1;const{height:n}=e.target,{clientHeight:a,scrollTop:s}=document.scrollingElement;(Ue===void 0||n!==window.innerHeight)&&(Ue=a-n,document.scrollingElement.scrollTop=s),s>Ue&&(document.scrollingElement.scrollTop-=Math.ceil((s-Ue)/8))}))}function ol(e){const n=document.body,a=window.visualViewport!==void 0;if(e==="add"){const{overflowY:s,overflowX:l}=window.getComputedStyle(n);St=po(window),bt=wo(window),Zt=n.style.left,el=n.style.top,tl=window.location.href,n.style.left=`-${St}px`,n.style.top=`-${bt}px`,l!=="hidden"&&(l==="scroll"||n.scrollWidth>window.innerWidth)&&n.classList.add("q-body--force-scrollbar-x"),s!=="hidden"&&(s==="scroll"||n.scrollHeight>window.innerHeight)&&n.classList.add("q-body--force-scrollbar-y"),n.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,he.is.ios===!0&&(a===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",nt,ze.passiveCapture),window.visualViewport.addEventListener("scroll",nt,ze.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",ll,ze.passiveCapture))}he.is.desktop===!0&&he.is.mac===!0&&window[`${e}EventListener`]("wheel",Ho,ze.notPassive),e==="remove"&&(he.is.ios===!0&&(a===!0?(window.visualViewport.removeEventListener("resize",nt,ze.passiveCapture),window.visualViewport.removeEventListener("scroll",nt,ze.passiveCapture)):window.removeEventListener("scroll",ll,ze.passiveCapture)),n.classList.remove("q-body--prevent-scroll"),n.classList.remove("q-body--force-scrollbar-x"),n.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,n.style.left=Zt,n.style.top=el,window.location.href===tl&&window.scrollTo(St,bt),Ue=void 0)}function Do(e){let n="add";if(e===!0){if(je++,Le!==null){clearTimeout(Le),Le=null;return}if(je>1)return}else{if(je===0||(je--,je>0))return;if(n="remove",he.is.ios===!0&&he.is.nativeMobile===!0){Le!==null&&clearTimeout(Le),Le=setTimeout(()=>{ol(n),Le=null},100);return}}ol(n)}function Vl(){let e;return{preventBodyScroll(n){n!==e&&(e!==void 0||n===!0)&&(e=n,Do(n))}}}let at=0;const Po={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},nl={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},$o=qe({name:"QDialog",inheritAttrs:!1,props:{...gl,...io,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...hl,"shake","click","escapeKey"],setup(e,{slots:n,emit:a,attrs:s}){const l=Qe(),o=M(null),c=M(!1),m=M(!1);let f=null,y=null,i,x;const q=d(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:k}=Vl(),{registerTimeout:C}=wl(),{registerTick:b,removeTick:p}=ro(),{transitionProps:z,transitionStyle:w}=so(e,()=>nl[e.position][0],()=>nl[e.position][1]),I=d(()=>w.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:D,hidePortal:T,portalIsAccessible:F,renderPortal:le}=co(l,o,Q,"dialog"),{hide:oe}=yl({showing:c,hideOnRouteChange:q,handleShow:fe,handleHide:G,processOnMount:!0}),{addToHistory:ce,removeFromHistory:X}=Cl(c,oe,q),ue=d(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Po[e.position]}`+(m.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),W=d(()=>c.value===!0&&e.seamless!==!0),ne=d(()=>e.autoClose===!0?{onClick:v}:{}),ge=d(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${W.value===!0?"modal":"seamless"}`,s.class]);O(()=>e.maximized,S=>{c.value===!0&&u(S)}),O(W,S=>{k(S),S===!0?(fo(H),vo(ee)):(Xt(H),Yt(ee))});function fe(S){ce(),y=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,u(e.maximized),D(),m.value=!0,e.noFocus!==!0?(document.activeElement?.blur(),b(ie)):p(),C(()=>{if(l.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:V,bottom:P}=document.activeElement.getBoundingClientRect(),{innerHeight:E}=window,Y=window.visualViewport!==void 0?window.visualViewport.height:E;V>0&&P>Y/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Y,P>=E?1/0:Math.ceil(document.scrollingElement.scrollTop+P-Y/2))),document.activeElement.scrollIntoView()}x=!0,o.value.click(),x=!1}D(!0),m.value=!1,a("show",S)},e.transitionDuration)}function G(S){p(),X(),ye(!0),m.value=!0,T(),y!==null&&(((S?.type.indexOf("key")===0?y.closest('[tabindex]:not([tabindex^="-"])'):void 0)||y).focus(),y=null),C(()=>{T(!0),m.value=!1,a("hide",S)},e.transitionDuration)}function ie(S){yo(()=>{let V=o.value;if(V!==null){if(S!==void 0){const P=V.querySelector(S);if(P!==null){P.focus({preventScroll:!0});return}}V.contains(document.activeElement)!==!0&&(V=V.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||V.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||V.querySelector("[autofocus], [data-autofocus]")||V,V.focus({preventScroll:!0}))}})}function re(S){S&&typeof S.focus=="function"?S.focus({preventScroll:!0}):ie(),a("shake");const V=o.value;V!==null&&(V.classList.remove("q-animate--scale"),V.classList.add("q-animate--scale"),f!==null&&clearTimeout(f),f=setTimeout(()=>{f=null,o.value!==null&&(V.classList.remove("q-animate--scale"),ie())},170))}function ee(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&re():(a("escapeKey"),oe()))}function ye(S){f!==null&&(clearTimeout(f),f=null),(S===!0||c.value===!0)&&(u(!1),e.seamless!==!0&&(k(!1),Xt(H),Yt(ee))),S!==!0&&(y=null)}function u(S){S===!0?i!==!0&&(at<1&&document.body.classList.add("q-body--dialog"),at++,i=!0):i===!0&&(at<2&&document.body.classList.remove("q-body--dialog"),at--,i=!1)}function v(S){x!==!0&&(oe(S),a("click",S))}function B(S){e.persistent!==!0&&e.noBackdropDismiss!==!0?oe(S):e.noShake!==!0&&re()}function H(S){e.allowFocusOutside!==!0&&F.value===!0&&$l(o.value,S.target)!==!0&&ie('[tabindex]:not([tabindex="-1"])')}Object.assign(l.proxy,{focus:ie,shake:re,__updateRefocusTarget(S){y=S||null}}),Fe(ye);function Q(){return _("div",{role:"dialog","aria-modal":W.value===!0?"true":"false",...s,class:ge.value},[_(jt,{name:"q-transition--fade",appear:!0},()=>W.value===!0?_("div",{class:"q-dialog__backdrop fixed-full",style:I.value,"aria-hidden":"true",tabindex:-1,onClick:B}):null),_(jt,z.value,()=>c.value===!0?_("div",{ref:o,class:ue.value,style:w.value,tabindex:-1,...ne.value},ct(n.default)):null)])}return le}});let st=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const n=document.createElement("div");Object.assign(n.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(n),e.scrollLeft=-1e3,st=e.scrollLeft>=0,e.remove()}const me=1e3,Ro=["start","center","end","start-force","center-force","end-force"],xl=Array.prototype.filter,Qo=window.getComputedStyle(document.body).overflowAnchor===void 0?dl:function(e,n){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const a=e.children||[];xl.call(a,l=>l.dataset&&l.dataset.qVsAnchor!==void 0).forEach(l=>{delete l.dataset.qVsAnchor});const s=a[n];s?.dataset&&(s.dataset.qVsAnchor="")}))};function Re(e,n){return e+n}function wt(e,n,a,s,l,o,c,m){const f=e===window?document.scrollingElement||document.documentElement:e,y=l===!0?"offsetWidth":"offsetHeight",i={scrollStart:0,scrollViewSize:-c-m,scrollMaxSize:0,offsetStart:-c,offsetEnd:-m};if(l===!0?(e===window?(i.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,i.scrollViewSize+=document.documentElement.clientWidth):(i.scrollStart=f.scrollLeft,i.scrollViewSize+=f.clientWidth),i.scrollMaxSize=f.scrollWidth,o===!0&&(i.scrollStart=(st===!0?i.scrollMaxSize-i.scrollViewSize:0)-i.scrollStart)):(e===window?(i.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,i.scrollViewSize+=document.documentElement.clientHeight):(i.scrollStart=f.scrollTop,i.scrollViewSize+=f.clientHeight),i.scrollMaxSize=f.scrollHeight),a!==null)for(let x=a.previousElementSibling;x!==null;x=x.previousElementSibling)x.classList.contains("q-virtual-scroll--skip")===!1&&(i.offsetStart+=x[y]);if(s!==null)for(let x=s.nextElementSibling;x!==null;x=x.nextElementSibling)x.classList.contains("q-virtual-scroll--skip")===!1&&(i.offsetEnd+=x[y]);if(n!==e){const x=f.getBoundingClientRect(),q=n.getBoundingClientRect();l===!0?(i.offsetStart+=q.left-x.left,i.offsetEnd-=q.width):(i.offsetStart+=q.top-x.top,i.offsetEnd-=q.height),e!==window&&(i.offsetStart+=i.scrollStart),i.offsetEnd+=i.scrollMaxSize-i.offsetStart}return i}function al(e,n,a,s){n==="end"&&(n=(e===window?document.body:e)[a===!0?"scrollWidth":"scrollHeight"]),e===window?a===!0?(s===!0&&(n=(st===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-n),window.scrollTo(n,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,n):a===!0?(s===!0&&(n=(st===!0?e.scrollWidth-e.offsetWidth:0)-n),e.scrollLeft=n):e.scrollTop=n}function Ke(e,n,a,s){if(a>=s)return 0;const l=n.length,o=Math.floor(a/me),c=Math.floor((s-1)/me)+1;let m=e.slice(o,c).reduce(Re,0);return a%me!==0&&(m-=n.slice(o*me,a).reduce(Re,0)),s%me!==0&&s!==l&&(m-=n.slice(s,c*me).reduce(Re,0)),m}const No={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},ul={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...No};function Wo({virtualScrollLength:e,getVirtualScrollTarget:n,getVirtualScrollEl:a,virtualScrollItemSizeComputed:s}){const l=Qe(),{props:o,emit:c,proxy:m}=l,{$q:f}=m;let y,i,x,q=[],k;const C=M(0),b=M(0),p=M({}),z=M(null),w=M(null),I=M(null),D=M({from:0,to:0}),T=d(()=>o.tableColspan!==void 0?o.tableColspan:100);s===void 0&&(s=d(()=>o.virtualScrollItemSize));const F=d(()=>s.value+";"+o.virtualScrollHorizontal),le=d(()=>F.value+";"+o.virtualScrollSliceRatioBefore+";"+o.virtualScrollSliceRatioAfter);O(le,()=>{G()}),O(F,oe);function oe(){fe(i,!0)}function ce(u){fe(u===void 0?i:u)}function X(u,v){const B=n();if(B==null||B.nodeType===8)return;const H=wt(B,a(),z.value,w.value,o.virtualScrollHorizontal,f.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd);x!==H.scrollViewSize&&G(H.scrollViewSize),W(B,H,Math.min(e.value-1,Math.max(0,parseInt(u,10)||0)),0,Ro.indexOf(v)!==-1?v:i!==-1&&u>i?"end":"start")}function ue(){const u=n();if(u==null||u.nodeType===8)return;const v=wt(u,a(),z.value,w.value,o.virtualScrollHorizontal,f.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd),B=e.value-1,H=v.scrollMaxSize-v.offsetStart-v.offsetEnd-b.value;if(y===v.scrollStart)return;if(v.scrollMaxSize<=0){W(u,v,0,0);return}x!==v.scrollViewSize&&G(v.scrollViewSize),ne(D.value.from);const Q=Math.floor(v.scrollMaxSize-Math.max(v.scrollViewSize,v.offsetEnd)-Math.min(k[B],v.scrollViewSize/2));if(Q>0&&Math.ceil(v.scrollStart)>=Q){W(u,v,B,v.scrollMaxSize-v.offsetEnd-q.reduce(Re,0));return}let S=0,V=v.scrollStart-v.offsetStart,P=V;if(V<=H&&V+v.scrollViewSize>=C.value)V-=C.value,S=D.value.from,P=V;else for(let E=0;V>=q[E]&&S<B;E++)V-=q[E],S+=me;for(;V>0&&S<B;)V-=k[S],V>-v.scrollViewSize?(S++,P=V):P=k[S]+V;W(u,v,S,P)}function W(u,v,B,H,Q){const S=typeof Q=="string"&&Q.indexOf("-force")!==-1,V=S===!0?Q.replace("-force",""):Q,P=V!==void 0?V:"start";let E=Math.max(0,B-p.value[P]),Y=E+p.value.total;Y>e.value&&(Y=e.value,E=Math.max(0,Y-p.value.total)),y=v.scrollStart;const Se=E!==D.value.from||Y!==D.value.to;if(Se===!1&&V===void 0){re(B);return}const{activeElement:Ce}=document,N=I.value;Se===!0&&N!==null&&N!==Ce&&N.contains(Ce)===!0&&(N.addEventListener("focusout",ge),setTimeout(()=>{N?.removeEventListener("focusout",ge)})),Qo(N,B-E);const se=V!==void 0?k.slice(E,B).reduce(Re,0):0;if(Se===!0){const ve=Y>=D.value.from&&E<=D.value.to?D.value.to:Y;D.value={from:E,to:ve},C.value=Ke(q,k,0,E),b.value=Ke(q,k,Y,e.value),requestAnimationFrame(()=>{D.value.to!==Y&&y===v.scrollStart&&(D.value={from:D.value.from,to:Y},b.value=Ke(q,k,Y,e.value))})}requestAnimationFrame(()=>{if(y!==v.scrollStart)return;Se===!0&&ne(E);const ve=k.slice(E,B).reduce(Re,0),pe=ve+v.offsetStart+C.value,Oe=pe+k[B];let Ve=pe+H;if(V!==void 0){const _e=ve-se,ae=v.scrollStart+_e;Ve=S!==!0&&ae<pe&&Oe<ae+v.scrollViewSize?ae:V==="end"?Oe-v.scrollViewSize:pe-(V==="start"?0:Math.round((v.scrollViewSize-k[B])/2))}y=Ve,al(u,Ve,o.virtualScrollHorizontal,f.lang.rtl),re(B)})}function ne(u){const v=I.value;if(v){const B=xl.call(v.children,E=>E.classList&&E.classList.contains("q-virtual-scroll--skip")===!1),H=B.length,Q=o.virtualScrollHorizontal===!0?E=>E.getBoundingClientRect().width:E=>E.offsetHeight;let S=u,V,P;for(let E=0;E<H;){for(V=Q(B[E]),E++;E<H&&B[E].classList.contains("q-virtual-scroll--with-prev")===!0;)V+=Q(B[E]),E++;P=V-k[S],P!==0&&(k[S]+=P,q[Math.floor(S/me)]+=P),S++}}}function ge(){I.value?.focus()}function fe(u,v){const B=1*s.value;(v===!0||Array.isArray(k)===!1)&&(k=[]);const H=k.length;k.length=e.value;for(let S=e.value-1;S>=H;S--)k[S]=B;const Q=Math.floor((e.value-1)/me);q=[];for(let S=0;S<=Q;S++){let V=0;const P=Math.min((S+1)*me,e.value);for(let E=S*me;E<P;E++)V+=k[E];q.push(V)}i=-1,y=void 0,C.value=Ke(q,k,0,D.value.from),b.value=Ke(q,k,D.value.to,e.value),u>=0?(ne(D.value.from),be(()=>{X(u)})):ee()}function G(u){if(u===void 0&&typeof window<"u"){const V=n();V!=null&&V.nodeType!==8&&(u=wt(V,a(),z.value,w.value,o.virtualScrollHorizontal,f.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd).scrollViewSize)}x=u;const v=parseFloat(o.virtualScrollSliceRatioBefore)||0,B=parseFloat(o.virtualScrollSliceRatioAfter)||0,H=1+v+B,Q=u===void 0||u<=0?1:Math.ceil(u/s.value),S=Math.max(1,Q,Math.ceil((o.virtualScrollSliceSize>0?o.virtualScrollSliceSize:10)/H));p.value={total:Math.ceil(S*H),start:Math.ceil(S*v),center:Math.ceil(S*(.5+v)),end:Math.ceil(S*(1+v)),view:Q}}function ie(u,v){const B=o.virtualScrollHorizontal===!0?"width":"height",H={["--q-virtual-scroll-item-"+B]:s.value+"px"};return[u==="tbody"?_(u,{class:"q-virtual-scroll__padding",key:"before",ref:z},[_("tr",[_("td",{style:{[B]:`${C.value}px`,...H},colspan:T.value})])]):_(u,{class:"q-virtual-scroll__padding",key:"before",ref:z,style:{[B]:`${C.value}px`,...H}}),_(u,{class:"q-virtual-scroll__content",key:"content",ref:I,tabindex:-1},v.flat()),u==="tbody"?_(u,{class:"q-virtual-scroll__padding",key:"after",ref:w},[_("tr",[_("td",{style:{[B]:`${b.value}px`,...H},colspan:T.value})])]):_(u,{class:"q-virtual-scroll__padding",key:"after",ref:w,style:{[B]:`${b.value}px`,...H}})]}function re(u){i!==u&&(o.onVirtualScroll!==void 0&&c("virtualScroll",{index:u,from:D.value.from,to:D.value.to-1,direction:u<i?"decrease":"increase",ref:m}),i=u)}G();const ee=Ql(ue,f.platform.is.ios===!0?120:35);Nl(()=>{G()});let ye=!1;return Wl(()=>{ye=!0}),jl(()=>{if(ye!==!0)return;const u=n();y!==void 0&&u!==void 0&&u!==null&&u.nodeType!==8?al(u,y,o.virtualScrollHorizontal,f.lang.rtl):X(i)}),Fe(()=>{ee.cancel()}),Object.assign(m,{scrollTo:X,reset:oe,refresh:ce}),{virtualScrollSliceRange:D,virtualScrollSliceSizeComputed:p,setVirtualScrollSize:G,onVirtualScrollEvt:ee,localResetVirtualScroll:fe,padVirtualScroll:ie,scrollTo:X,reset:oe,refresh:ce}}const il=e=>["add","add-unique","toggle"].includes(e),jo=".*+?^${}()|[]\\",Ko=Object.keys(Et);function kt(e,n){if(typeof e=="function")return e;const a=e!==void 0?e:n;return s=>s!==null&&typeof s=="object"&&a in s?s[a]:s}const Uo=qe({name:"QSelect",inheritAttrs:!1,props:{...ul,...Co,...Et,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:il},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:ul.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...Sl,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:n,emit:a}){const{proxy:s}=Qe(),{$q:l}=s,o=M(!1),c=M(!1),m=M(-1),f=M(""),y=M(!1),i=M(!1);let x=null,q=null,k,C,b,p=null,z,w,I,D;const T=M(null),F=M(null),le=M(null),oe=M(null),ce=M(null),X=Vo(e),ue=So(Pt),W=d(()=>Array.isArray(e.options)?e.options.length:0),ne=d(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:ge,virtualScrollSliceSizeComputed:fe,localResetVirtualScroll:G,padVirtualScroll:ie,onVirtualScrollEvt:re,scrollTo:ee,setVirtualScrollSize:ye}=Wo({virtualScrollLength:W,getVirtualScrollTarget:Tl,getVirtualScrollEl:It,virtualScrollItemSizeComputed:ne}),u=pl(),v=d(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,h=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const g=e.mapOptions===!0&&k!==void 0?k:[],L=h.map(R=>_l(R,g));return e.modelValue===null&&t===!0?L.filter(R=>R!==null):L}return h}),B=d(()=>{const t={};return Ko.forEach(h=>{const g=e[h];g!==void 0&&(t[h]=g)}),t}),H=d(()=>e.optionsDark===null?u.isDark.value:e.optionsDark),Q=d(()=>Gt(v.value)),S=d(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||v.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),V=d(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),P=d(()=>W.value===0),E=d(()=>v.value.map(t=>J.value(t)).join(", ")),Y=d(()=>e.displayValue!==void 0?e.displayValue:E.value),Se=d(()=>e.optionsHtml===!0?()=>!0:t=>t?.html===!0),Ce=d(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||v.value.some(Se.value))),N=d(()=>u.focused.value===!0?e.tabindex:-1),se=d(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":o.value===!0?"true":"false","aria-controls":`${u.targetUid.value}_lb`};return m.value>=0&&(t["aria-activedescendant"]=`${u.targetUid.value}_${m.value}`),t}),ve=d(()=>({id:`${u.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),pe=d(()=>v.value.map((t,h)=>({index:h,opt:t,html:Se.value(t),selected:!0,removeAtIndex:ql,toggleOption:Be,tabindex:N.value}))),Oe=d(()=>{if(W.value===0)return[];const{from:t,to:h}=ge.value;return e.options.slice(t,h).map((g,L)=>{const R=r.value(g)===!0,$=dt(g)===!0,Z=t+L,j={clickable:!0,active:$,activeClass:ae.value,manualFocus:!0,focused:!1,disable:R,tabindex:-1,dense:e.optionsDense,dark:H.value,role:"option","aria-selected":$===!0?"true":"false",id:`${u.targetUid.value}_${Z}`,onClick:()=>{Be(g)}};return R!==!0&&(m.value===Z&&(j.focused=!0),l.platform.is.desktop===!0&&(j.onMousemove=()=>{o.value===!0&&He(Z)})),{index:Z,opt:g,html:Se.value(g),label:J.value(g),selected:j.active,focused:j.focused,toggleOption:Be,setOptionIndex:He,itemProps:j}})}),Ve=d(()=>e.dropdownIcon!==void 0?e.dropdownIcon:l.iconSet.arrow.dropdown),_e=d(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),ae=d(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),de=d(()=>kt(e.optionValue,"value")),J=d(()=>kt(e.optionLabel,"label")),r=d(()=>kt(e.optionDisable,"disable")),A=d(()=>v.value.map(de.value)),te=d(()=>{const t={onInput:Pt,onChange:ue,onKeydown:Ht,onKeyup:Ft,onKeypress:Ot,onFocus:Lt,onClick(h){C===!0&&we(h)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=ue,t});O(v,t=>{k=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&u.innerLoading.value!==!0&&(c.value!==!0&&o.value!==!0||Q.value!==!0)&&(b!==!0&&$e(),(c.value===!0||o.value===!0)&&Ie(""))},{immediate:!0}),O(()=>e.fillInput,$e),O(o,ft),O(W,Pl);function Te(t){return e.emitValue===!0?de.value(t):t}function Ze(t){if(t!==-1&&t<v.value.length)if(e.multiple===!0){const h=e.modelValue.slice();a("remove",{index:t,value:h.splice(t,1)[0]}),a("update:modelValue",h)}else a("update:modelValue",null)}function ql(t){Ze(t),u.focus()}function At(t,h){const g=Te(t);if(e.multiple!==!0){e.fillInput===!0&&Ne(J.value(t),!0,!0),a("update:modelValue",g);return}if(v.value.length===0){a("add",{index:0,value:g}),a("update:modelValue",e.multiple===!0?[g]:g);return}if(h===!0&&dt(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const L=e.modelValue.slice();a("add",{index:L.length,value:g}),L.push(g),a("update:modelValue",L)}function Be(t,h){if(u.editable.value!==!0||t===void 0||r.value(t)===!0)return;const g=de.value(t);if(e.multiple!==!0){h!==!0&&(Ne(e.fillInput===!0?J.value(t):"",!0,!0),Ee()),F.value?.focus(),(v.value.length===0||We(de.value(v.value[0]),g)!==!0)&&a("update:modelValue",e.emitValue===!0?g:t);return}if((C!==!0||y.value===!0)&&u.focus(),Lt(),v.value.length===0){const $=e.emitValue===!0?g:t;a("add",{index:0,value:$}),a("update:modelValue",e.multiple===!0?[$]:$);return}const L=e.modelValue.slice(),R=A.value.findIndex($=>We($,g));if(R!==-1)a("remove",{index:R,value:L.splice(R,1)[0]});else{if(e.maxValues!==void 0&&L.length>=e.maxValues)return;const $=e.emitValue===!0?g:t;a("add",{index:L.length,value:$}),L.push($)}a("update:modelValue",L)}function He(t){if(l.platform.is.desktop!==!0)return;const h=t!==-1&&t<W.value?t:-1;m.value!==h&&(m.value=h)}function et(t=1,h){if(o.value===!0){let g=m.value;do g=Jt(g+t,-1,W.value-1);while(g!==-1&&g!==m.value&&r.value(e.options[g])===!0);m.value!==g&&(He(g),ee(g),h!==!0&&e.useInput===!0&&e.fillInput===!0&&tt(g>=0?J.value(e.options[g]):z,!0))}}function _l(t,h){const g=L=>We(de.value(L),t);return e.options.find(g)||h.find(g)||t}function dt(t){const h=de.value(t);return A.value.find(g=>We(g,h))!==void 0}function Lt(t){e.useInput===!0&&F.value!==null&&(t===void 0||F.value===t.target&&t.target.value===E.value)&&F.value.select()}function Mt(t){Yl(t,27)===!0&&o.value===!0&&(we(t),Ee(),$e()),a("keyup",t)}function Ft(t){const{value:h}=t.target;if(t.keyCode!==void 0){Mt(t);return}if(t.target.value="",x!==null&&(clearTimeout(x),x=null),q!==null&&(clearTimeout(q),q=null),$e(),typeof h=="string"&&h.length!==0){const g=h.toLocaleLowerCase(),L=$=>{const Z=e.options.find(j=>String($.value(j)).toLocaleLowerCase()===g);return Z===void 0?!1:(v.value.indexOf(Z)===-1?Be(Z):Ee(),!0)},R=$=>{L(de)!==!0&&$!==!0&&L(J)!==!0&&Ie(h,!0,()=>R(!0))};R()}else u.clearValue(t)}function Ot(t){a("keypress",t)}function Ht(t){if(a("keydown",t),Xl(t)===!0)return;const h=f.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),g=t.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(m.value!==-1||h===!0);if(t.keyCode===27){Xe(t);return}if(t.keyCode===9&&g===!1){De();return}if(t.target===void 0||t.target.id!==u.targetUid.value||u.editable.value!==!0)return;if(t.keyCode===40&&u.innerLoading.value!==!0&&o.value===!1){xe(t),Pe();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&f.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Ze(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&a("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof f.value!="string"||f.value.length===0)&&(xe(t),m.value=-1,et(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&fe.value!==void 0&&(xe(t),m.value=Math.max(-1,Math.min(W.value,m.value+(t.keyCode===33?-1:1)*fe.value.view)),et(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(xe(t),et(t.keyCode===38?-1:1,e.multiple));const L=W.value;if((I===void 0||D<Date.now())&&(I=""),L>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||I.length!==0)){o.value!==!0&&Pe(t);const R=t.key.toLocaleLowerCase(),$=I.length===1&&I[0]===R;D=Date.now()+1500,$===!1&&(xe(t),I+=R);const Z=new RegExp("^"+I.split("").map(vt=>jo.indexOf(vt)!==-1?"\\"+vt:vt).join(".*"),"i");let j=m.value;if($===!0||j<0||Z.test(J.value(e.options[j]))!==!0)do j=Jt(j+1,-1,L-1);while(j!==m.value&&(r.value(e.options[j])===!0||Z.test(J.value(e.options[j]))!==!0));m.value!==j&&be(()=>{He(j),ee(j),j>=0&&e.useInput===!0&&e.fillInput===!0&&tt(J.value(e.options[j]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||I!=="")&&(t.keyCode!==9||g===!1))){if(t.keyCode!==9&&xe(t),m.value!==-1&&m.value<L){Be(e.options[m.value]);return}if(h===!0){const R=($,Z)=>{if(Z){if(il(Z)!==!0)return}else Z=e.newValueMode;if(Ne("",e.multiple!==!0,!0),$==null)return;(Z==="toggle"?Be:At)($,Z==="add-unique"),e.multiple!==!0&&(F.value?.focus(),Ee())};if(e.onNewValue!==void 0?a("newValue",f.value,R):R(f.value),e.multiple!==!0)return}o.value===!0?De():u.innerLoading.value!==!0&&Pe()}}function It(){return C===!0?ce.value:le.value!==null&&le.value.contentEl!==null?le.value.contentEl:void 0}function Tl(){return It()}function Bl(){return e.hideSelected===!0?[]:n["selected-item"]!==void 0?pe.value.map(t=>n["selected-item"](t)).slice():n.selected!==void 0?[].concat(n.selected()):e.useChips===!0?pe.value.map((t,h)=>_(bo,{key:"option-"+h,removable:u.editable.value===!0&&r.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:N.value,onRemove(){t.removeAtIndex(h)}},()=>_("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:J.value(t.opt)}))):[_("span",{class:"ellipsis",[Ce.value===!0?"innerHTML":"textContent"]:Y.value})]}function Dt(){if(P.value===!0)return n["no-option"]!==void 0?n["no-option"]({inputValue:f.value}):void 0;const t=n.option!==void 0?n.option:g=>_(it,{key:g.index,...g.itemProps},()=>_(qt,()=>_(rt,()=>_("span",{[g.html===!0?"innerHTML":"textContent"]:g.label}))));let h=ie("div",Oe.value.map(t));return n["before-options"]!==void 0&&(h=n["before-options"]().concat(h)),ml(n["after-options"],h)}function El(t,h){const g=h===!0?{...se.value,...u.splitAttrs.attributes.value}:void 0,L={ref:h===!0?F:void 0,key:"i_t",class:S.value,style:e.inputStyle,value:f.value!==void 0?f.value:"",type:"search",...g,id:h===!0?u.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...te.value};return t!==!0&&C===!0&&(Array.isArray(L.class)===!0?L.class=[...L.class,"no-pointer-events"]:L.class+=" no-pointer-events"),_("input",L)}function Pt(t){x!==null&&(clearTimeout(x),x=null),q!==null&&(clearTimeout(q),q=null),!(t&&t.target&&t.target.qComposing===!0)&&(tt(t.target.value||""),b=!0,z=f.value,u.focused.value!==!0&&(C!==!0||y.value===!0)&&u.focus(),e.onFilter!==void 0&&(x=setTimeout(()=>{x=null,Ie(f.value)},e.inputDebounce)))}function tt(t,h){f.value!==t&&(f.value=t,h===!0||e.inputDebounce===0||e.inputDebounce==="0"?a("inputValue",t):q=setTimeout(()=>{q=null,a("inputValue",t)},e.inputDebounce))}function Ne(t,h,g){b=g!==!0,e.useInput===!0&&(tt(t,!0),(h===!0||g!==!0)&&(z=t),h!==!0&&Ie(t))}function Ie(t,h,g){if(e.onFilter===void 0||h!==!0&&u.focused.value!==!0)return;u.innerLoading.value===!0?a("filterAbort"):(u.innerLoading.value=!0,i.value=!0),t!==""&&e.multiple!==!0&&v.value.length!==0&&b!==!0&&t===J.value(v.value[0])&&(t="");const L=setTimeout(()=>{o.value===!0&&(o.value=!1)},10);p!==null&&clearTimeout(p),p=L,a("filter",t,(R,$)=>{(h===!0||u.focused.value===!0)&&p===L&&(clearTimeout(p),typeof R=="function"&&R(),i.value=!1,be(()=>{u.innerLoading.value=!1,u.editable.value===!0&&(h===!0?o.value===!0&&Ee():o.value===!0?ft(!0):o.value=!0),typeof $=="function"&&be(()=>{$(s)}),typeof g=="function"&&be(()=>{g(s)})}))},()=>{u.focused.value===!0&&p===L&&(clearTimeout(p),u.innerLoading.value=!1,i.value=!1),o.value===!0&&(o.value=!1)})}function zl(){return _(mo,{ref:le,class:V.value,style:e.popupContentStyle,modelValue:o.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&P.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:H.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:_e.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...ve.value,onScrollPassive:re,onBeforeShow:Rt,onBeforeHide:Al,onShow:Ll},Dt)}function Al(t){Qt(t),De()}function Ll(){ye()}function Ml(t){we(t),F.value?.focus(),y.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Fl(t){we(t),be(()=>{y.value=!1})}function Ol(){const t=[_(Oo,{class:`col-auto ${u.fieldClass.value}`,...B.value,for:u.targetUid.value,dark:H.value,square:!0,loading:i.value,itemAligned:!1,filled:!0,stackLabel:f.value.length!==0,...u.splitAttrs.listeners.value,onFocus:Ml,onBlur:Fl},{...n,rawControl:()=>u.getControl(!0),before:void 0,after:void 0})];return o.value===!0&&t.push(_("div",{ref:ce,class:V.value+" scroll",style:e.popupContentStyle,...ve.value,onClick:Xe,onScrollPassive:re},Dt())),_($o,{ref:oe,modelValue:c.value,position:e.useInput===!0?"top":void 0,transitionShow:w,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:Rt,onBeforeHide:Hl,onHide:Il,onShow:Dl},()=>_("div",{class:"q-select__dialog"+(H.value===!0?" q-select__dialog--dark q-dark":"")+(y.value===!0?" q-select__dialog--focused":"")},t))}function Hl(t){Qt(t),oe.value!==null&&oe.value.__updateRefocusTarget(u.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),u.focused.value=!1}function Il(t){Ee(),u.focused.value===!1&&a("blur",t),$e()}function Dl(){const t=document.activeElement;(t===null||t.id!==u.targetUid.value)&&F.value!==null&&F.value!==t&&F.value.focus(),ye()}function De(){c.value!==!0&&(m.value=-1,o.value===!0&&(o.value=!1),u.focused.value===!1&&(p!==null&&(clearTimeout(p),p=null),u.innerLoading.value===!0&&(a("filterAbort"),u.innerLoading.value=!1,i.value=!1)))}function Pe(t){u.editable.value===!0&&(C===!0?(u.onControlFocusin(t),c.value=!0,be(()=>{u.focus()})):u.focus(),e.onFilter!==void 0?Ie(f.value):(P.value!==!0||n["no-option"]!==void 0)&&(o.value=!0))}function Ee(){c.value=!1,De()}function $e(){e.useInput===!0&&Ne(e.multiple!==!0&&e.fillInput===!0&&v.value.length!==0&&J.value(v.value[0])||"",!0,!0)}function ft(t){let h=-1;if(t===!0){if(v.value.length!==0){const g=de.value(v.value[0]);h=e.options.findIndex(L=>We(de.value(L),g))}G(h)}He(h)}function Pl(t,h){o.value===!0&&u.innerLoading.value===!1&&(G(-1,!0),be(()=>{o.value===!0&&u.innerLoading.value===!1&&(t>h?G():ft(!0))}))}function $t(){c.value===!1&&le.value!==null&&le.value.updatePosition()}function Rt(t){t!==void 0&&we(t),a("popupShow",t),u.hasPopupOpen=!0,u.onControlFocusin(t)}function Qt(t){t!==void 0&&we(t),a("popupHide",t),u.hasPopupOpen=!1,u.onControlFocusout(t)}function Nt(){C=l.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?n["no-option"]!==void 0||e.onFilter!==void 0||P.value===!1:!0),w=l.platform.is.ios===!0&&C===!0&&e.useInput===!0?"fade":e.transitionShow}return Kl(Nt),Ul($t),Nt(),Fe(()=>{x!==null&&clearTimeout(x),q!==null&&clearTimeout(q)}),Object.assign(s,{showPopup:Pe,hidePopup:Ee,removeAtIndex:Ze,add:At,toggleOption:Be,getOptionIndex:()=>m.value,setOptionIndex:He,moveOptionSelection:et,filter:Ie,updateMenuPosition:$t,updateInputValue:Ne,isOptionSelected:dt,getEmittingOptionValue:Te,isOptionDisabled:(...t)=>r.value.apply(null,t)===!0,getOptionValue:(...t)=>de.value.apply(null,t),getOptionLabel:(...t)=>J.value.apply(null,t)}),Object.assign(u,{innerValue:v,fieldClass:d(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:T,targetRef:F,hasValue:Q,showPopup:Pe,floatingLabel:d(()=>e.hideSelected!==!0&&Q.value===!0||typeof f.value=="number"||f.value.length!==0||Gt(e.displayValue)),getControlChild:()=>{if(u.editable.value!==!1&&(c.value===!0||P.value!==!0||n["no-option"]!==void 0))return C===!0?Ol():zl();u.hasPopupOpen===!0&&(u.hasPopupOpen=!1)},controlEvents:{onFocusin(t){u.onControlFocusin(t)},onFocusout(t){u.onControlFocusout(t,()=>{$e(),De()})},onClick(t){if(Xe(t),C!==!0&&o.value===!0){De(),F.value?.focus();return}Pe(t)}},getControl:t=>{const h=Bl(),g=t===!0||c.value!==!0||C!==!0;if(e.useInput===!0)h.push(El(t,g));else if(u.editable.value===!0){const R=g===!0?se.value:void 0;h.push(_("input",{ref:g===!0?F:void 0,key:"d_t",class:"q-select__focus-target",id:g===!0?u.targetUid.value:void 0,value:Y.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...R,onKeydown:Ht,onKeyup:Mt,onKeypress:Ot})),g===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&h.push(_("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Ft}))}if(X.value!==void 0&&e.disable!==!0&&A.value.length!==0){const R=A.value.map($=>_("option",{value:$,selected:!0}));h.push(_("select",{class:"hidden",name:X.value,multiple:e.multiple},R))}const L=e.useInput===!0||g!==!0?void 0:u.splitAttrs.attributes.value;return _("div",{class:"q-field__native row items-center",...L,...u.splitAttrs.listeners.value},h)},getInnerAppend:()=>e.loading!==!0&&i.value!==!0&&e.hideDropdownIcon!==!0?[_(Bt,{class:"q-select__dropdown-icon"+(o.value===!0?" rotate-180":""),name:Ve.value})]:null}),bl(u)}}),Xo=qe({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:n}){const a=d(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>_("div",{class:a.value,role:"toolbar"},ct(n.default))}}),Yo=qe({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:n,emit:a}){const{proxy:{$q:s}}=Qe(),l=_t(Tt,ke);if(l===ke)return console.error("QHeader needs to be child of QLayout"),ke;const o=M(parseInt(e.heightHint,10)),c=M(!0),m=d(()=>e.reveal===!0||l.view.value.indexOf("H")!==-1||s.platform.is.ios&&l.isContainer.value===!0),f=d(()=>{if(e.modelValue!==!0)return 0;if(m.value===!0)return c.value===!0?o.value:0;const w=o.value-l.scroll.value.position;return w>0?w:0}),y=d(()=>e.modelValue!==!0||m.value===!0&&c.value!==!0),i=d(()=>e.modelValue===!0&&y.value===!0&&e.reveal===!0),x=d(()=>"q-header q-layout__section--marginal "+(m.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(y.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),q=d(()=>{const w=l.rows.value.top,I={};return w[0]==="l"&&l.left.space===!0&&(I[s.lang.rtl===!0?"right":"left"]=`${l.left.size}px`),w[2]==="r"&&l.right.space===!0&&(I[s.lang.rtl===!0?"left":"right"]=`${l.right.size}px`),I});function k(w,I){l.update("header",w,I)}function C(w,I){w.value!==I&&(w.value=I)}function b({height:w}){C(o,w),k("size",w)}function p(w){i.value===!0&&C(c,!0),a("focusin",w)}O(()=>e.modelValue,w=>{k("space",w),C(c,!0),l.animate()}),O(f,w=>{k("offset",w)}),O(()=>e.reveal,w=>{w===!1&&C(c,e.modelValue)}),O(c,w=>{l.animate(),a("reveal",w)}),O(l.scroll,w=>{e.reveal===!0&&C(c,w.direction==="up"||w.position<=e.revealOffset||w.position-w.inflectionPoint<100)});const z={};return l.instances.header=z,e.modelValue===!0&&k("size",o.value),k("space",e.modelValue),k("offset",f.value),Fe(()=>{l.instances.header===z&&(l.instances.header=void 0,k("size",0),k("offset",0),k("space",!1))}),()=>{const w=uo(n.default,[]);return e.elevated===!0&&w.push(_("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),w.push(_(kl,{debounce:0,onResize:b})),_("header",{class:x.value,style:q.value,onFocusin:p},w)}}}),zt={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Go=Object.keys(zt);zt.all=!0;function rl(e){const n={};for(const a of Go)e[a]===!0&&(n[a]=!0);return Object.keys(n).length===0?zt:(n.horizontal===!0?n.left=n.right=!0:n.left===!0&&n.right===!0&&(n.horizontal=!0),n.vertical===!0?n.up=n.down=!0:n.up===!0&&n.down===!0&&(n.vertical=!0),n.horizontal===!0&&n.vertical===!0&&(n.all=!0),n)}const Jo=["INPUT","TEXTAREA"];function sl(e,n){return n.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof n.handler=="function"&&Jo.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(n.uid)===-1)}function Ct(e,n,a){const s=xt(e);let l,o=s.left-n.event.x,c=s.top-n.event.y,m=Math.abs(o),f=Math.abs(c);const y=n.direction;y.horizontal===!0&&y.vertical!==!0?l=o<0?"left":"right":y.horizontal!==!0&&y.vertical===!0?l=c<0?"up":"down":y.up===!0&&c<0?(l="up",m>f&&(y.left===!0&&o<0?l="left":y.right===!0&&o>0&&(l="right"))):y.down===!0&&c>0?(l="down",m>f&&(y.left===!0&&o<0?l="left":y.right===!0&&o>0&&(l="right"))):y.left===!0&&o<0?(l="left",m<f&&(y.up===!0&&c<0?l="up":y.down===!0&&c>0&&(l="down"))):y.right===!0&&o>0&&(l="right",m<f&&(y.up===!0&&c<0?l="up":y.down===!0&&c>0&&(l="down")));let i=!1;if(l===void 0&&a===!1){if(n.event.isFirst===!0||n.event.lastDir===void 0)return{};l=n.event.lastDir,i=!0,l==="left"||l==="right"?(s.left-=o,m=0,o=0):(s.top-=c,f=0,c=0)}return{synthetic:i,payload:{evt:e,touch:n.event.mouse!==!0,mouse:n.event.mouse===!0,position:s,direction:l,isFirst:n.event.isFirst,isFinal:a===!0,duration:Date.now()-n.event.time,distance:{x:m,y:f},offset:{x:o,y:c},delta:{x:s.left-n.event.lastX,y:s.top-n.event.lastY}}}}let Zo=0;const Vt=Gl({name:"touch-pan",beforeMount(e,{value:n,modifiers:a}){if(a.mouse!==!0&&he.has.touch!==!0)return;function s(o,c){a.mouse===!0&&c===!0?xe(o):(a.stop===!0&&we(o),a.prevent===!0&&Xe(o))}const l={uid:"qvtp_"+Zo++,handler:n,modifiers:a,direction:rl(a),noop:dl,mouseStart(o){sl(o,l)&&Jl(o)&&(lt(l,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),l.start(o,!0))},touchStart(o){if(sl(o,l)){const c=o.target;lt(l,"temp",[[c,"touchmove","move","notPassiveCapture"],[c,"touchcancel","end","passiveCapture"],[c,"touchend","end","passiveCapture"]]),l.start(o)}},start(o,c){if(he.is.firefox===!0&&gt(e,!0),l.lastEvt=o,c===!0||a.stop===!0){if(l.direction.all!==!0&&(c!==!0||l.modifiers.mouseAllDir!==!0&&l.modifiers.mousealldir!==!0)){const y=o.type.indexOf("mouse")!==-1?new MouseEvent(o.type,o):new TouchEvent(o.type,o);o.defaultPrevented===!0&&Xe(y),o.cancelBubble===!0&&we(y),Object.assign(y,{qKeyEvent:o.qKeyEvent,qClickOutside:o.qClickOutside,qAnchorHandled:o.qAnchorHandled,qClonedBy:o.qClonedBy===void 0?[l.uid]:o.qClonedBy.concat(l.uid)}),l.initialEvent={target:o.target,event:y}}we(o)}const{left:m,top:f}=xt(o);l.event={x:m,y:f,time:Date.now(),mouse:c===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:m,lastY:f}},move(o){if(l.event===void 0)return;const c=xt(o),m=c.left-l.event.x,f=c.top-l.event.y;if(m===0&&f===0)return;l.lastEvt=o;const y=l.event.mouse===!0,i=()=>{s(o,y);let k;a.preserveCursor!==!0&&a.preservecursor!==!0&&(k=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),y===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),ho(),l.styleCleanup=C=>{if(l.styleCleanup=void 0,k!==void 0&&(document.documentElement.style.cursor=k),document.body.classList.remove("non-selectable"),y===!0){const b=()=>{document.body.classList.remove("no-pointer-events--children")};C!==void 0?setTimeout(()=>{b(),C()},50):b()}else C!==void 0&&C()}};if(l.event.detected===!0){l.event.isFirst!==!0&&s(o,l.event.mouse);const{payload:k,synthetic:C}=Ct(o,l,!1);k!==void 0&&(l.handler(k)===!1?l.end(o):(l.styleCleanup===void 0&&l.event.isFirst===!0&&i(),l.event.lastX=k.position.left,l.event.lastY=k.position.top,l.event.lastDir=C===!0?void 0:k.direction,l.event.isFirst=!1));return}if(l.direction.all===!0||y===!0&&(l.modifiers.mouseAllDir===!0||l.modifiers.mousealldir===!0)){i(),l.event.detected=!0,l.move(o);return}const x=Math.abs(m),q=Math.abs(f);x!==q&&(l.direction.horizontal===!0&&x>q||l.direction.vertical===!0&&x<q||l.direction.up===!0&&x<q&&f<0||l.direction.down===!0&&x<q&&f>0||l.direction.left===!0&&x>q&&m<0||l.direction.right===!0&&x>q&&m>0?(l.event.detected=!0,l.move(o)):l.end(o,!0))},end(o,c){if(l.event!==void 0){if(ht(l,"temp"),he.is.firefox===!0&&gt(e,!1),c===!0)l.styleCleanup?.(),l.event.detected!==!0&&l.initialEvent!==void 0&&l.initialEvent.target.dispatchEvent(l.initialEvent.event);else if(l.event.detected===!0){l.event.isFirst===!0&&l.handler(Ct(o===void 0?l.lastEvt:o,l).payload);const{payload:m}=Ct(o===void 0?l.lastEvt:o,l,!0),f=()=>{l.handler(m)};l.styleCleanup!==void 0?l.styleCleanup(f):f()}l.event=void 0,l.initialEvent=void 0,l.lastEvt=void 0}}};if(e.__qtouchpan=l,a.mouse===!0){const o=a.mouseCapture===!0||a.mousecapture===!0?"Capture":"";lt(l,"main",[[e,"mousedown","mouseStart",`passive${o}`]])}he.has.touch===!0&&lt(l,"main",[[e,"touchstart","touchStart",`passive${a.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const a=e.__qtouchpan;a!==void 0&&(n.oldValue!==n.value&&(typeof value!="function"&&a.end(),a.handler=n.value),a.direction=rl(n.modifiers))},beforeUnmount(e){const n=e.__qtouchpan;n!==void 0&&(n.event!==void 0&&n.end(),ht(n,"main"),ht(n,"temp"),he.is.firefox===!0&&gt(e,!1),n.styleCleanup?.(),delete e.__qtouchpan)}}),cl=150,en=qe({name:"QDrawer",inheritAttrs:!1,props:{...gl,...To,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...hl,"onLayout","miniState"],setup(e,{slots:n,emit:a,attrs:s}){const l=Qe(),{proxy:{$q:o}}=l,c=Bo(e,o),{preventBodyScroll:m}=Vl(),{registerTimeout:f,removeTimeout:y}=wl(),i=_t(Tt,ke);if(i===ke)return console.error("QDrawer needs to be child of QLayout"),ke;let x,q=null,k;const C=M(e.behavior==="mobile"||e.behavior!=="desktop"&&i.totalWidth.value<=e.breakpoint),b=d(()=>e.mini===!0&&C.value!==!0),p=d(()=>b.value===!0?e.miniWidth:e.width),z=M(e.showIfAbove===!0&&C.value===!1?!0:e.modelValue===!0),w=d(()=>e.persistent!==!0&&(C.value===!0||ye.value===!0));function I(r,A){if(le(),r!==!1&&i.animate(),N(0),C.value===!0){const te=i.instances[G.value];te?.belowBreakpoint===!0&&te.hide(!1),se(1),i.isContainer.value!==!0&&m(!0)}else se(0),r!==!1&&ve(!1);f(()=>{r!==!1&&ve(!0),A!==!0&&a("show",r)},cl)}function D(r,A){oe(),r!==!1&&i.animate(),se(0),N(ue.value*p.value),_e(),A!==!0?f(()=>{a("hide",r)},cl):y()}const{show:T,hide:F}=yl({showing:z,hideOnRouteChange:w,handleShow:I,handleHide:D}),{addToHistory:le,removeFromHistory:oe}=Cl(z,F,w),ce={belowBreakpoint:C,hide:F},X=d(()=>e.side==="right"),ue=d(()=>(o.lang.rtl===!0?-1:1)*(X.value===!0?1:-1)),W=M(0),ne=M(!1),ge=M(!1),fe=M(p.value*ue.value),G=d(()=>X.value===!0?"left":"right"),ie=d(()=>z.value===!0&&C.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:p.value:0),re=d(()=>e.overlay===!0||e.miniToOverlay===!0||i.view.value.indexOf(X.value?"R":"L")!==-1||o.platform.is.ios===!0&&i.isContainer.value===!0),ee=d(()=>e.overlay===!1&&z.value===!0&&C.value===!1),ye=d(()=>e.overlay===!0&&z.value===!0&&C.value===!1),u=d(()=>"fullscreen q-drawer__backdrop"+(z.value===!1&&ne.value===!1?" hidden":"")),v=d(()=>({backgroundColor:`rgba(0,0,0,${W.value*.4})`})),B=d(()=>X.value===!0?i.rows.value.top[2]==="r":i.rows.value.top[0]==="l"),H=d(()=>X.value===!0?i.rows.value.bottom[2]==="r":i.rows.value.bottom[0]==="l"),Q=d(()=>{const r={};return i.header.space===!0&&B.value===!1&&(re.value===!0?r.top=`${i.header.offset}px`:i.header.space===!0&&(r.top=`${i.header.size}px`)),i.footer.space===!0&&H.value===!1&&(re.value===!0?r.bottom=`${i.footer.offset}px`:i.footer.space===!0&&(r.bottom=`${i.footer.size}px`)),r}),S=d(()=>{const r={width:`${p.value}px`,transform:`translateX(${fe.value}px)`};return C.value===!0?r:Object.assign(r,Q.value)}),V=d(()=>"q-drawer__content fit "+(i.isContainer.value!==!0?"scroll":"overflow-auto")),P=d(()=>`q-drawer q-drawer--${e.side}`+(ge.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(c.value===!0?" q-drawer--dark q-dark":"")+(ne.value===!0?" no-transition":z.value===!0?"":" q-layout--prevent-focus")+(C.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${b.value===!0?"mini":"standard"}`+(re.value===!0||ee.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(B.value===!0?" q-drawer--top-padding":""))),E=d(()=>{const r=o.lang.rtl===!0?e.side:G.value;return[[Vt,Oe,void 0,{[r]:!0,mouse:!0}]]}),Y=d(()=>{const r=o.lang.rtl===!0?G.value:e.side;return[[Vt,Ve,void 0,{[r]:!0,mouse:!0}]]}),Se=d(()=>{const r=o.lang.rtl===!0?G.value:e.side;return[[Vt,Ve,void 0,{[r]:!0,mouse:!0,mouseAllDir:!0}]]});function Ce(){de(C,e.behavior==="mobile"||e.behavior!=="desktop"&&i.totalWidth.value<=e.breakpoint)}O(C,r=>{r===!0?(x=z.value,z.value===!0&&F(!1)):e.overlay===!1&&e.behavior!=="mobile"&&x!==!1&&(z.value===!0?(N(0),se(0),_e()):T(!1))}),O(()=>e.side,(r,A)=>{i.instances[A]===ce&&(i.instances[A]=void 0,i[A].space=!1,i[A].offset=0),i.instances[r]=ce,i[r].size=p.value,i[r].space=ee.value,i[r].offset=ie.value}),O(i.totalWidth,()=>{(i.isContainer.value===!0||document.qScrollPrevented!==!0)&&Ce()}),O(()=>e.behavior+e.breakpoint,Ce),O(i.isContainer,r=>{z.value===!0&&m(r!==!0),r===!0&&Ce()}),O(i.scrollbarWidth,()=>{N(z.value===!0?0:void 0)}),O(ie,r=>{ae("offset",r)}),O(ee,r=>{a("onLayout",r),ae("space",r)}),O(X,()=>{N()}),O(p,r=>{N(),J(e.miniToOverlay,r)}),O(()=>e.miniToOverlay,r=>{J(r,p.value)}),O(()=>o.lang.rtl,()=>{N()}),O(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(pe(),i.animate())}),O(b,r=>{a("miniState",r)});function N(r){r===void 0?be(()=>{r=z.value===!0?0:p.value,N(ue.value*r)}):(i.isContainer.value===!0&&X.value===!0&&(C.value===!0||Math.abs(r)===p.value)&&(r+=ue.value*i.scrollbarWidth.value),fe.value=r)}function se(r){W.value=r}function ve(r){const A=r===!0?"remove":i.isContainer.value!==!0?"add":"";A!==""&&document.body.classList[A]("q-body--drawer-toggle")}function pe(){q!==null&&clearTimeout(q),l.proxy&&l.proxy.$el&&l.proxy.$el.classList.add("q-drawer--mini-animate"),ge.value=!0,q=setTimeout(()=>{q=null,ge.value=!1,l?.proxy?.$el?.classList.remove("q-drawer--mini-animate")},150)}function Oe(r){if(z.value!==!1)return;const A=p.value,te=ot(r.distance.x,0,A);if(r.isFinal===!0){te>=Math.min(75,A)===!0?T():(i.animate(),se(0),N(ue.value*A)),ne.value=!1;return}N((o.lang.rtl===!0?X.value!==!0:X.value)?Math.max(A-te,0):Math.min(0,te-A)),se(ot(te/A,0,1)),r.isFirst===!0&&(ne.value=!0)}function Ve(r){if(z.value!==!0)return;const A=p.value,te=r.direction===e.side,Te=(o.lang.rtl===!0?te!==!0:te)?ot(r.distance.x,0,A):0;if(r.isFinal===!0){Math.abs(Te)<Math.min(75,A)===!0?(i.animate(),se(1),N(0)):F(),ne.value=!1;return}N(ue.value*Te),se(ot(1-Te/A,0,1)),r.isFirst===!0&&(ne.value=!0)}function _e(){m(!1),ve(!0)}function ae(r,A){i.update(e.side,r,A)}function de(r,A){r.value!==A&&(r.value=A)}function J(r,A){ae("size",r===!0?e.miniWidth:A)}return i.instances[e.side]=ce,J(e.miniToOverlay,p.value),ae("space",ee.value),ae("offset",ie.value),e.showIfAbove===!0&&e.modelValue!==!0&&z.value===!0&&e["onUpdate:modelValue"]!==void 0&&a("update:modelValue",!0),fl(()=>{a("onLayout",ee.value),a("miniState",b.value),x=e.showIfAbove===!0;const r=()=>{(z.value===!0?I:D)(!1,!0)};if(i.totalWidth.value!==0){be(r);return}k=O(i.totalWidth,()=>{k(),k=void 0,z.value===!1&&e.showIfAbove===!0&&C.value===!1?T(!1):r()})}),Fe(()=>{k?.(),q!==null&&(clearTimeout(q),q=null),z.value===!0&&_e(),i.instances[e.side]===ce&&(i.instances[e.side]=void 0,ae("size",0),ae("offset",0),ae("space",!1))}),()=>{const r=[];C.value===!0&&(e.noSwipeOpen===!1&&r.push(Zl(_("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),E.value)),r.push(Ut("div",{ref:"backdrop",class:u.value,style:v.value,"aria-hidden":"true",onClick:F},void 0,"backdrop",e.noSwipeBackdrop!==!0&&z.value===!0,()=>Se.value)));const A=b.value===!0&&n.mini!==void 0,te=[_("div",{...s,key:""+A,class:[V.value,s.class]},A===!0?n.mini():ct(n.default))];return e.elevated===!0&&z.value===!0&&te.push(_("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),r.push(Ut("aside",{ref:"content",class:P.value,style:S.value},te,"contentclose",e.noSwipeClose!==!0&&C.value===!0,()=>Y.value)),_("div",{class:"q-drawer-container"},r)}}}),tn=qe({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:n,emit:a}){const{proxy:{$q:s}}=Qe(),l=_t(Tt,ke);if(l===ke)return console.error("QFooter needs to be child of QLayout"),ke;const o=M(parseInt(e.heightHint,10)),c=M(!0),m=M(eo.value===!0||l.isContainer.value===!0?0:window.innerHeight),f=d(()=>e.reveal===!0||l.view.value.indexOf("F")!==-1||s.platform.is.ios&&l.isContainer.value===!0),y=d(()=>l.isContainer.value===!0?l.containerHeight.value:m.value),i=d(()=>{if(e.modelValue!==!0)return 0;if(f.value===!0)return c.value===!0?o.value:0;const T=l.scroll.value.position+y.value+o.value-l.height.value;return T>0?T:0}),x=d(()=>e.modelValue!==!0||f.value===!0&&c.value!==!0),q=d(()=>e.modelValue===!0&&x.value===!0&&e.reveal===!0),k=d(()=>"q-footer q-layout__section--marginal "+(f.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(x.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(f.value!==!0?" hidden":""):"")),C=d(()=>{const T=l.rows.value.bottom,F={};return T[0]==="l"&&l.left.space===!0&&(F[s.lang.rtl===!0?"right":"left"]=`${l.left.size}px`),T[2]==="r"&&l.right.space===!0&&(F[s.lang.rtl===!0?"left":"right"]=`${l.right.size}px`),F});function b(T,F){l.update("footer",T,F)}function p(T,F){T.value!==F&&(T.value=F)}function z({height:T}){p(o,T),b("size",T)}function w(){if(e.reveal!==!0)return;const{direction:T,position:F,inflectionPoint:le}=l.scroll.value;p(c,T==="up"||F-le<100||l.height.value-y.value-F-o.value<300)}function I(T){q.value===!0&&p(c,!0),a("focusin",T)}O(()=>e.modelValue,T=>{b("space",T),p(c,!0),l.animate()}),O(i,T=>{b("offset",T)}),O(()=>e.reveal,T=>{T===!1&&p(c,e.modelValue)}),O(c,T=>{l.animate(),a("reveal",T)}),O([o,l.scroll,l.height],w),O(()=>s.screen.height,T=>{l.isContainer.value!==!0&&p(m,T)});const D={};return l.instances.footer=D,e.modelValue===!0&&b("size",o.value),b("space",e.modelValue),b("offset",i.value),Fe(()=>{l.instances.footer===D&&(l.instances.footer=void 0,b("size",0),b("offset",0),b("space",!1))}),()=>{const T=ml(n.default,[_(kl,{debounce:0,onResize:z})]);return e.elevated===!0&&T.push(_("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),_("footer",{class:k.value,style:C.value,onFocusin:I},T)}}}),ln=vl({__name:"EssentialLink",props:{title:{},caption:{},link:{},icon:{}},setup(e){const n=e,a=d(()=>typeof n.link=="string"&&n.link.startsWith("http"));return(s,l)=>(Me(),Ye(it,{clickable:"",to:a.value?void 0:s.link,target:a.value?"_blank":void 0,tag:"a"},{default:U(()=>[s.icon?(Me(),Ye(qt,{key:0,avatar:""},{default:U(()=>[K(Bt,{name:s.icon},null,8,["name"])]),_:1})):ut("",!0),K(qt,null,{default:U(()=>[K(rt,null,{default:U(()=>[Ge(Je(s.title),1)]),_:1}),K(rt,{caption:""},{default:U(()=>[Ge(Je(s.caption),1)]),_:1})]),_:1})]),_:1},8,["to","target"]))}}),on={class:"q-ml-sm"},nn={key:0,class:"q-pa-xs"},Vn=vl({__name:"MainLayout",setup(e){const n=Eo(),a=Mo(),s=a.isDebugMode,l=to(),o=M(a.language),c=["en","ja"];O(o,b=>{a.setLanguage(b)}),O(()=>a.language,b=>{o.value=b});const m=[{title:"Images & Movies",caption:"",icon:"collections",link:{name:"home"}},{title:"Novels & Articles",caption:"",icon:"library_books",link:{path:`/novel-home/${a.language}`}},{title:"Your bookmarks",caption:"",icon:"bookmark",link:{name:"image-bookmarks"}},{title:"Upload and manage",caption:"upload or manage your images, videos and texts",icon:"upload",link:{name:"manage-creatives"}},{title:"Generate images",caption:"(to be developed) create novels and articles",icon:"edit",link:{name:"home"}},{title:"Generate texts",caption:"(to be developed) create images",icon:"edit",link:{name:"home"}},{title:"Your profile",caption:"",icon:"account_circle",link:{name:"user-profile"}},{title:"About",caption:"pirikapia, Utopia of beauties",icon:"info",link:""}],f=M(!1),y=M(""),i=M(null),x=M(!1);function q(){f.value=!f.value}async function k(){x.value=!0,i.value=null;try{const b=await zo.get("/");typeof b.data=="string"?y.value=b.data:b.data&&typeof b.data.message=="string"?y.value=b.data.message:(console.warn("Unexpected response format:",b.data),y.value="Welcome message received, but format is unexpected.")}catch(b){console.error("Failed to fetch welcome message:",b),Ao.isAxiosError(b)&&(b.response?i.value=`Server Error: ${b.response.status} - ${b.response.data?.message||b.response.data||b.message}`:b.request?i.value="No response from server. Please check your network connection.":i.value=`Error: ${b.message}`),y.value=""}finally{x.value=!1}}function C(){l.push("/").then(()=>{location.reload()}).catch(b=>{console.log(b)})}return fl(()=>{k().then().catch(b=>{console.log(b)}).finally(()=>{}),a.language=navigator.language?navigator.language:"ja",s&&console.debug("language set to",a.language)}),(b,p)=>{const z=ao("router-view");return Me(),Ye(xo,{view:"lHh Lpr lFf"},{default:U(()=>[K(Yo,{flat:""},{default:U(()=>[K(Xo,null,{default:U(()=>[K(mt,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:q}),K(Fo,{style:{cursor:"pointer"},onClick:C},{default:U(()=>p[4]||(p[4]=[Ge(" Pirikapia ")])),_:1}),Ae(n).isAuthenticated?(Me(),Ye(it,{key:0,clickable:"",onClick:p[0]||(p[0]=w=>Ae(l).push("/user-profile"))},{default:U(()=>[K(mt,{flat:"",round:"",dense:"",icon:"account_circle"},{default:U(()=>[yt("span",on,Je(Ae(n).user.username),1)]),_:1})]),_:1})):ut("",!0),K(Uo,{dark:"",borderless:"",modelValue:o.value,"onUpdate:modelValue":p[1]||(p[1]=w=>o.value=w),options:c},{prepend:U(()=>[K(Bt,{color:"white",name:"language"}),K(go,null,{default:U(()=>p[5]||(p[5]=[Ge("Language")])),_:1})]),_:1},8,["modelValue"]),Ae(n).isAuthenticated?ut("",!0):(Me(),Ye(it,{key:1,clickable:"",onClick:p[2]||(p[2]=w=>Ae(l).push("/user-login"))},{default:U(()=>[K(mt,{flat:"",round:"",dense:"",icon:"login"},{default:U(()=>p[6]||(p[6]=[yt("span",{class:"q-ml-sm"},"Login",-1)])),_:1})]),_:1}))]),_:1})]),_:1}),K(en,{modelValue:f.value,"onUpdate:modelValue":p[3]||(p[3]=w=>f.value=w),"show-if-above":"",bordered:""},{default:U(()=>[K(_o,null,{default:U(()=>[K(rt,{header:""},{default:U(()=>p[7]||(p[7]=[Ge(" Menus ")])),_:1}),(Me(),Kt(no,null,lo(m,w=>K(ln,oo({key:w.title,ref_for:!0},w),null,16)),64))]),_:1})]),_:1},8,["modelValue"]),K(qo,null,{default:U(()=>[K(z)]),_:1}),K(tn,{class:"q-pa-xs"},{default:U(()=>[yt("span",null,Je(y.value),1),Ae(s)?(Me(),Kt("span",nn,"(debug mode) "+Je(Ae(Lo)),1)):ut("",!0)]),_:1})]),_:1})}}});export{Vn as default};
