import{Q as I}from"./QPage-BVnELgYy.js";import{u as x,_ as C}from"./ImageBox.vue_vue_type_script_setup_true_lang-DgvIQ3Qx.js";import{a as m}from"./axios-DgDyWnCa.js";import{B as N,r as t,T as w,x as y,C as S,E as b,D as l,N as r,I as P,J as p,O as u,G as T,P as k,R as q}from"./index-D_uaF-qf.js";import{d as B}from"./interfaces-Ec9u-xyp.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-router-link-LO43TVHX.js";import"./QBtn-DLdoahvf.js";import"./QCardSection-DljHQTJ0.js";import"./QCard-CaLw-D77.js";import"./use-dark-COWGvXsv.js";import"./use-timeout-C46cPNyy.js";const D={class:"q-ma-md q-pa-md"},E={class:"text-body2"},R={class:"col-12 col-xl-8 q-ma-md q-pa-md bg-grey-2"},V={class:"col-lg-2 col-md-3 col-sm-6"},L=N({__name:"NovelChapter",setup(Q){const n=x(),a=w(),v=t(a.params.novelId!==void 0?a.params.novelId.toString():""),g=t(a.params.chapterStrId!==void 0?a.params.chapterStrId.toString():""),c=t(""),i=t(""),d=t([]),f=t({novelTitle:"",coverImage:"",novelChapters:[],description:"",novelId:0});async function h(){return await m.get(`/novels/${v.value}/${g.value}/${n.language}/`).then(e=>(i.value=e.data.cover_image,e.data.text.forEach(o=>{console.log(o),c.value=e.data.title,d.value.push(o)}),Promise.resolve())).catch(e=>(console.log(e),Promise.reject(new Error(e.message)))),Promise.resolve()}function _(){if(typeof a.params.novelId=="string"){const e=`/novels/${a.params.novelId}/${n.language}/`;m.get(e).then(o=>{const s=o.data;console.debug(s),f.value=B(s)}).catch(o=>{console.log(o)}).finally(()=>{})}else return}return y(()=>{h().then(()=>{_()}).catch(e=>{console.log(e)})}),(e,o)=>(l(),S(I,null,{default:b(()=>[r("div",D,[o[0]||(o[0]=P(" back to index ")),r("div",E,p(c.value),1)]),r("div",R,[r("div",V,[T(C,{imageId:i.value,enableLinkToImageDetailView:!1,showTags:!1,showPublishedDate:!1,showButtons:!1,cropAspectRatio:1},null,8,["imageId"])]),(l(!0),u(q,null,k(d.value,s=>(l(),u("div",{key:s,class:"col-12 q-px-md q-py-sm novel-scene"},p(s),1))),128))])]),_:1}))}}),X=$(L,[["__scopeId","data-v-6a94edd7"]]);export{X as default};
