import{Q as w}from"./QPage-BxRQ--b1.js";import{u as C}from"./uiconfig-CbweBuhi.js";import{L as N,r as v,w as f,I as k,a0 as $,M as x,O as i,N as r,W as _,X as l,Y as R,Q as m,_ as S,P as h,U as I,R as b,$ as T,V}from"./index-C6CZfYqi.js";import{a as y}from"./auth-CiVWp3Bl.js";import{_ as B}from"./NovelCover.vue_vue_type_script_setup_true_lang-CGlbUTlM.js";import{c as M}from"./interfaces-B4VYSTqA.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-router-link-B0oSu7cF.js";import"./QSeparator-BoMccDor.js";import"./use-dark-Cjj-YmHO.js";import"./ImageBox.vue_vue_type_script_setup_true_lang-CqwcvdOB.js";import"./QBtn-D7UEd-7v.js";import"./QCardSection-CcE3Duat.js";import"./QChip-BZjThFgY.js";import"./use-timeout-D0nOoxWT.js";const P={class:"row"},Q={class:"q-ma-md"},U={key:0},j={key:1},D=N({__name:"NovelHome",setup(E){const e=C(),s=e.isDebugMode;s&&console.debug("uiConfigStore",`debug mode: ${e.isDebugMode}, `,`language: ${e.language}`);const u=$(),c=v(!0),d=V(),g=v([]);f(()=>e.language,o=>{s&&console.debug(`language was changed to ${o}`),d.push({path:`/novel-home/${e.language}`}).then(()=>{p()}).catch(a=>{console.error(a)})}),f(()=>d.currentRoute.value.params.language,o=>{o!==void 0&&(s&&console.debug(`language was changed to ${o.toString()}`),e.setLanguage(o))});function p(){c.value=!0,y.get(`/novels/search/${e.language}/`).then(o=>{const a=o.data;console.debug(a),g.value=a.map(n=>M(n)),c.value=!1}).catch(o=>{console.log(o)})}return k(()=>{s&&console.debug(u.params.novelId),u.params.language!==void 0&&(e.language=u.params.language.toString()),p()}),(o,a)=>{const n=T("router-link");return r(),x(w,null,{default:i(()=>[_("div",P,[(r(!0),l(S,null,R(g.value,t=>(r(),l("div",{key:t.novelId,class:"col-12 col-sm-12 col-md-6 col-lg-4 col-xl-3 q-px-md q-py-sm"},[m(B,{novelTitle:t.novelTitle,coverImage:t.coverImage,novelChapters:t.novelChapters,description:t.description,novelId:t.novelId,"owner-id":t.ownerId,"owner-username":t.ownerUsername,thumbnail:!0},null,8,["novelTitle","coverImage","novelChapters","description","novelId","owner-id","owner-username"])]))),128))]),_("div",Q,[I(e).language=="ja"?(r(),l("div",U,[m(n,{to:"/novel-home/en/"},{default:i(()=>a[0]||(a[0]=[b("EN")])),_:1})])):h("",!0),I(e).language=="en"?(r(),l("div",j,[m(n,{to:"/novel-home/ja/"},{default:i(()=>a[1]||(a[1]=[b("日本語")])),_:1})])):h("",!0)])]),_:1})}}}),ae=q(D,[["__scopeId","data-v-9cfed4b3"]]);export{ae as default};
