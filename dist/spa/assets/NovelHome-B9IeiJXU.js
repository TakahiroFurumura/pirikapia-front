import{Q as w}from"./QPage-ltYmKs_4.js";import{u as C}from"./uiconfig-B05de8GS.js";import{I as N,r as v,w as f,F as k,Y as x,J as $,L as m,K as r,T as _,U as i,V as S,N as u,X as T,M as h,R as I,O as b,Q as R,S as V}from"./index-7caSP31t.js";import{a as y}from"./auth-CDSO7_SK.js";import{_ as B}from"./NovelCover.vue_vue_type_script_setup_true_lang-9Lm0ESWo.js";import{c as M}from"./interfaces-mmqTB_Cm.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-router-link-DHbFeyIZ.js";import"./QSeparator-DHJMw6a2.js";import"./use-dark-B3FPmzRe.js";import"./QCardSection-VDfp5xIU.js";import"./QBtn-Cgmgakfy.js";import"./QCard-Dgu91nSk.js";import"./QDialog-C8IGqPNZ.js";import"./use-timeout-CyMzVV9z.js";import"./focusout-DEGXVdQK.js";import"./use-key-composition-wWDVTXM6.js";import"./scroll-B2iXDlCa.js";import"./ImageBox.vue_vue_type_script_setup_true_lang-DqixTdiD.js";import"./QChip-DYjRA0xl.js";import"./QInput-DvQSfkEM.js";import"./QPagination-C87-Nozn.js";import"./format-BvkBI9bc.js";import"./QSpinnerGears-FhtbVfVl.js";import"./ImageThumbnail.vue_vue_type_script_setup_true_lang-DJ3E9ctd.js";const Q={class:"row"},U={class:"q-ma-md"},j={key:0},D={key:1},E=N({__name:"NovelHome",setup(F){const e=C(),s=e.isDebugMode;s&&console.debug("uiConfigStore",`debug mode: ${e.isDebugMode}, `,`language: ${e.language}`);const l=x(),c=v(!0),d=V(),p=v([]);f(()=>e.language,o=>{s&&console.debug(`language was changed to ${o}`),d.push({path:`/novel-home/${e.language}`}).then(()=>{g()}).catch(t=>{console.error(t)})}),f(()=>d.currentRoute.value.params.language,o=>{o!==void 0&&(s&&console.debug(`language was changed to ${o.toString()}`),e.setLanguage(o))});function g(){c.value=!0,y.get(`/novels/search/${e.language}/`).then(o=>{const t=o.data;console.debug(t),p.value=t.map(n=>M(n)),c.value=!1}).catch(o=>{console.log(o)})}return k(()=>{s&&console.debug(l.params.novelId),l.params.language!==void 0&&(e.language=l.params.language.toString()),g()}),(o,t)=>{const n=R("router-link");return r(),$(w,null,{default:m(()=>[_("div",Q,[(r(!0),i(T,null,S(p.value,a=>(r(),i("div",{key:a.novelId,class:"col-12 col-sm-12 col-md-6 col-lg-4 col-xl-3 q-px-md q-py-sm"},[u(B,{novelTitle:a.novelTitle,coverImage:a.coverImage,novelChapters:a.novelChapters,description:a.description,novelId:a.novelId,"owner-id":a.ownerId,"owner-username":a.ownerUsername,thumbnail:!0},null,8,["novelTitle","coverImage","novelChapters","description","novelId","owner-id","owner-username"])]))),128))]),_("div",U,[I(e).language=="ja"?(r(),i("div",j,[u(n,{to:"/novel-home/en/"},{default:m(()=>t[0]||(t[0]=[b("EN")])),_:1})])):h("",!0),I(e).language=="en"?(r(),i("div",D,[u(n,{to:"/novel-home/ja/"},{default:m(()=>t[1]||(t[1]=[b("日本語")])),_:1})])):h("",!0)])]),_:1})}}}),de=q(E,[["__scopeId","data-v-9cfed4b3"]]);export{de as default};
