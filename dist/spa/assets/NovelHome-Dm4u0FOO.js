import{Q as C}from"./QPage-JZmyKtsz.js";import{u as I}from"./uiconfig-cNolOjS7.js";import{a as b}from"./auth-AWVyl-b9.js";import{L as N,r as p,w as v,I as k,M as $,O as i,N as r,W as _,X as n,Y as x,Q as u,_ as T,P as f,U as h,R as w,$ as V,V as y}from"./index-BlcmDWqL.js";import{_ as B}from"./NovelCover.vue_vue_type_script_setup_true_lang-BHZay8tO.js";import{c as M}from"./interfaces-NKqa6kZM.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-router-link-CE1KlCA8.js";import"./QSeparator-JXs4rqze.js";import"./use-dark-BwWEZAs9.js";import"./ImageBox.vue_vue_type_script_setup_true_lang-H9UEqoU9.js";import"./QBtn-B6SnliEp.js";import"./QCardSection-DBhNDA19.js";import"./QChip-BGKqGv1R.js";import"./use-timeout-P8I7MvkH.js";const S={class:"row"},q={class:"q-ma-md"},P={key:0},Q={key:1},U=N({__name:"NovelHome",setup(j){const o=I(),l=o.isDebugMode;l&&console.debug("uiConfigStore",`debug mode: ${o.isDebugMode}, `,`language: ${o.language}`);const c=p(!0),m=y(),d=p([]);v(()=>o.language,e=>{l&&console.debug(`language was changed to ${e}`),m.push({path:`/novel-home/${o.language}`}).then(()=>{g()}).catch(t=>{console.error(t)})}),v(()=>m.currentRoute.value.params.language,e=>{e!==void 0&&(l&&console.debug(`language was changed to ${e.toString()}`),o.setLanguage(e))});function g(){c.value=!0,b.get(`/novels/search/${o.language}/`).then(e=>{const t=e.data;console.debug(t),d.value=t.map(s=>M(s)),c.value=!1}).catch(e=>{console.log(e)})}return k(()=>{g()}),(e,t)=>{const s=V("router-link");return r(),$(C,null,{default:i(()=>[_("div",S,[(r(!0),n(T,null,x(d.value,a=>(r(),n("div",{key:a.novelId,class:"col-12 col-sm-12 col-md-6 col-lg-4 col-xl-3 q-px-md q-py-sm"},[u(B,{novelTitle:a.novelTitle,coverImage:a.coverImage,novelChapters:a.novelChapters,description:a.description,novelId:a.novelId,"owner-id":a.ownerId,"owner-username":a.ownerUsername,thumbnail:!0},null,8,["novelTitle","coverImage","novelChapters","description","novelId","owner-id","owner-username"])]))),128))]),_("div",q,[h(o).language=="ja"?(r(),n("div",P,[u(s,{to:"/novel-home/en/"},{default:i(()=>t[0]||(t[0]=[w("EN")])),_:1})])):f("",!0),h(o).language=="en"?(r(),n("div",Q,[u(s,{to:"/novel-home/ja/"},{default:i(()=>t[1]||(t[1]=[w("日本語")])),_:1})])):f("",!0)])]),_:1})}}}),ee=R(U,[["__scopeId","data-v-c39b5416"]]);export{ee as default};
