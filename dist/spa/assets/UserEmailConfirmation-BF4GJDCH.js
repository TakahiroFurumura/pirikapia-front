import{u as y,a as g,Q as x}from"./QBtn-BO7GXa4O.js";import{c as b,h,B as _,r as m,x as C,T as k,M,O as n,F as N,G as l,N as t,J as w,D as c}from"./index-CeVLE_du.js";import{Q as d}from"./use-router-link-BliwEbfi.js";import{a as E}from"./axios-DLKgpXoB.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./render-Bi8UPygE.js";const S='<circle cx="15" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="60" cy="15" r="9" fill-opacity=".3"><animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from=".5" to=".5" begin="0s" dur="0.8s" values=".5;1;.5" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="105" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle>',V=b({name:"QSpinnerDots",props:y,setup(u){const{cSize:i,classes:a}=g(u);return()=>h("svg",{class:a.value,fill:"currentColor",width:i.value,height:i.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",innerHTML:S})}}),q={class:"q-pa-md column items-center justify-center",style:{"min-height":"80vh"}},B={key:0,class:"text-center"},z={key:1,class:"text-center"},D={class:"text-body1"},R={key:2,class:"text-center"},T=_({__name:"UserEmailConfirmation",setup(u){const i=k(),a=M(),o=m(!0),s=m(null),p=m(!1);C(async()=>{const r=i.query.key;if(typeof r!="string"||r.trim()===""){s.value="Invalid or missing verification key in the URL.",o.value=!1;return}try{await E.post("auth/registration/verify-email/",{key:r}),console.log("Email verification successful."),p.value=!0,o.value=!1,setTimeout(()=>{a.push("user-login")},2e3)}catch(e){console.error("Email verification failed:",e),o.value=!1;const v=e;s.value=v.message}});function f(){a.push("/")}return(r,e)=>(c(),n("div",q,[o.value?(c(),n("div",B,[l(V,{color:"primary",size:"4em"}),e[0]||(e[0]=t("p",{class:"q-mt-md text-body1"},"Verifying your email, please wait...",-1))])):s.value?(c(),n("div",z,[l(d,{name:"error",color:"negative",size:"3em"}),e[1]||(e[1]=t("p",{class:"q-mt-sm text-h6 text-negative"},"Verification Failed",-1)),t("p",D,w(s.value),1),l(x,{label:"Go to Homepage",color:"primary",class:"q-mt-md",onClick:f,unelevated:""})])):p.value?(c(),n("div",R,[l(d,{name:"check_circle",color:"positive",size:"3em"}),e[2]||(e[2]=t("p",{class:"q-mt-sm text-h6 text-positive"},"Email Successfully Verified!",-1)),e[3]||(e[3]=t("p",{class:"text-body1"},"Redirecting to homepage shortly...",-1))])):N("",!0)]))}}),j=Q(T,[["__scopeId","data-v-178b902b"]]);export{j as default};
