import{u as y,d as g,Q as p}from"./vm-DJoTChBZ.js";import{c as b,h as x,B as h,r as m,b as _,U as C,M as k,O as n,F as M,G as l,N as t,J as N,D as c}from"./index-BjvWIdsZ.js";import{Q as w}from"./QBtn-BL5WWRpT.js";import{a as E}from"./axios-DIrX_odN.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S='<circle cx="15" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="60" cy="15" r="9" fill-opacity=".3"><animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from=".5" to=".5" begin="0s" dur="0.8s" values=".5;1;.5" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="105" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle>',V=b({name:"QSpinnerDots",props:y,setup(u){const{cSize:i,classes:a}=g(u);return()=>x("svg",{class:a.value,fill:"currentColor",width:i.value,height:i.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",innerHTML:S})}}),q={class:"q-pa-md column items-center justify-center",style:{"min-height":"80vh"}},B={key:0,class:"text-center"},z={key:1,class:"text-center"},D={class:"text-body1"},R={key:2,class:"text-center"},U=h({__name:"UserEmailConfirmation",setup(u){const i=C(),a=k(),o=m(!0),s=m(null),d=m(!1);_(async()=>{const r=i.query.key;if(typeof r!="string"||r.trim()===""){s.value="Invalid or missing verification key in the URL.",o.value=!1;return}try{await E.post("auth/registration/verify-email/",{key:r}),console.log("Email verification successful."),d.value=!0,o.value=!1,setTimeout(()=>{a.push("user-login")},2e3)}catch(e){console.error("Email verification failed:",e),o.value=!1;const v=e;s.value=v.message}});function f(){a.push("/")}return(r,e)=>(c(),n("div",q,[o.value?(c(),n("div",B,[l(V,{color:"primary",size:"4em"}),e[0]||(e[0]=t("p",{class:"q-mt-md text-body1"},"Verifying your email, please wait...",-1))])):s.value?(c(),n("div",z,[l(p,{name:"error",color:"negative",size:"3em"}),e[1]||(e[1]=t("p",{class:"q-mt-sm text-h6 text-negative"},"Verification Failed",-1)),t("p",D,N(s.value),1),l(w,{label:"Go to Homepage",color:"primary",class:"q-mt-md",onClick:f,unelevated:""})])):d.value?(c(),n("div",R,[l(p,{name:"check_circle",color:"positive",size:"3em"}),e[2]||(e[2]=t("p",{class:"q-mt-sm text-h6 text-positive"},"Email Successfully Verified!",-1)),e[3]||(e[3]=t("p",{class:"text-body1"},"Redirecting to homepage shortly...",-1))])):M("",!0)]))}}),G=Q(U,[["__scopeId","data-v-178b902b"]]);export{G as default};
