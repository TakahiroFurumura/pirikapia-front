import{u as y,e as g,Q as x}from"./QBtn-B6SnliEp.js";import{c as b,h,L as _,r as m,I as C,a0 as k,V as N,X as n,P as M,Q as l,W as t,S as w,N as c}from"./index-BlcmDWqL.js";import{Q as p}from"./use-router-link-CE1KlCA8.js";import{a as Q}from"./auth-AWVyl-b9.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";const V='<circle cx="15" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="60" cy="15" r="9" fill-opacity=".3"><animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from=".5" to=".5" begin="0s" dur="0.8s" values=".5;1;.5" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="105" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle>',E=b({name:"QSpinnerDots",props:y,setup(u){const{cSize:i,classes:a}=g(u);return()=>h("svg",{class:a.value,fill:"currentColor",width:i.value,height:i.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",innerHTML:V})}}),q={class:"q-pa-md column items-center justify-center",style:{"min-height":"80vh"}},B={key:0,class:"text-center"},z={key:1,class:"text-center"},I={class:"text-body1"},L={key:2,class:"text-center"},R=_({__name:"UserEmailConfirmation",setup(u){const i=k(),a=N(),o=m(!0),s=m(null),d=m(!1);C(async()=>{const r=i.query.key;if(typeof r!="string"||r.trim()===""){s.value="Invalid or missing verification key in the URL.",o.value=!1;return}try{await Q.post("auth/registration/verify-email/",{key:r}),console.log("Email verification successful."),d.value=!0,o.value=!1,setTimeout(()=>{a.push("user-login")},2e3)}catch(e){console.error("Email verification failed:",e),o.value=!1;const v=e;s.value=v.message}});function f(){a.push("/")}return(r,e)=>(c(),n("div",q,[o.value?(c(),n("div",B,[l(E,{color:"primary",size:"4em"}),e[0]||(e[0]=t("p",{class:"q-mt-md text-body1"},"Verifying your email, please wait...",-1))])):s.value?(c(),n("div",z,[l(p,{name:"error",color:"negative",size:"3em"}),e[1]||(e[1]=t("p",{class:"q-mt-sm text-h6 text-negative"},"Verification Failed",-1)),t("p",I,w(s.value),1),l(x,{label:"Go to Homepage",color:"primary",class:"q-mt-md",onClick:f,unelevated:""})])):d.value?(c(),n("div",L,[l(p,{name:"check_circle",color:"positive",size:"3em"}),e[2]||(e[2]=t("p",{class:"q-mt-sm text-h6 text-positive"},"Email Successfully Verified!",-1)),e[3]||(e[3]=t("p",{class:"text-body1"},"Redirecting to homepage shortly...",-1))])):M("",!0)]))}}),P=S(R,[["__scopeId","data-v-178b902b"]]);export{P as default};
